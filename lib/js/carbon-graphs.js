!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("d3")):"function"==typeof define&&define.amd?define(["d3"],n):"object"==typeof exports?exports.Carbon=n(require("d3")):t.Carbon=n(t.d3)}(window,function(t){return function(t){var n={};function e(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var a in t)e.d(i,a,function(n){return t[n]}.bind(null,a));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=2)}([function(n,e){n.exports=t},,function(t,n,e){"use strict";e.r(n);var i="Generate function not implemented from Construct.",a="LoadContent function not implemented from Construct.",r="UnloadContent function not implemented from Construct.",o="Resize function not implemented from Construct.",c="Destroy function not implemented from Construct.",s="Shape Path property cannot be empty.",l="Shape Options property cannot be empty.",u="Invalid Shape Options property attributes (x, y, scale).",d="Invalid input provided.",f="Invalid input format, graph DOM id must be provided.",h="Graph axes data needs to be loaded.",p="Graph data needs to be loaded.",g="Invalid input format, data points must be provided.",y="Invalid input format, label and key must be unique.",x="Invalid input format, unique key must be provided.",T="Invalid input format, unique label must be provided.",E="Content data needs to be loaded.",m="Invalid input format, axis must be provided.",v="Invalid input format, axis limits must be provided.",b="Invalid input format, axis labels must be provided.",A="Invalid input format, type must be valid.",_="Axis type invalid, bounds need to be in ISO8601 datetime format.",I="Type cannot be default, if data-points are in date time format.",S="Invalid object provided as argument.",w="Load function has not been implemented for this graph type.",k="Unload function has not been implemented for this graph type.",L="Resize function has not been implemented for this graph type.",C="Redraw function has not been implemented for this graph type.",D="GetInput not been implemented for BaseConfig.",O="SetInput not been implemented for BaseConfig.",R="Input validation has not been implemented.",N="Clone input function has not been implemented.",P="Invalid input provided. Content cannot be loaded at index less than zero.",G="Region in data object cannot be empty.",H="Region axis provided is invalid.",F="Region 'start' and 'end' value has invalid type.",M="Region cannot have both 'start' and 'end' empty.",U="Region 'start' cannot be larger than 'end'.",X="Invalid input format; unique key must be provided for each task.",V="Invalid input format; both start date and end date cannot be empty.",B="Invalid input format; start date or end date cannot be empty for a task. No duration function provided.",Y="Input type invalid, start date and end date needs to be in ISO8601 datetime format.",j="Input input format; start date cannot be larger than end date.",z="Invalid property: duration; Duration needs to be a function.",W="Invalid property: duration; Duration needs to return a number.",K="Invalid input format; unique key must be provided for each task.",J="Invalid input format; both start date and end date cannot be empty.",q="Invalid input format; start date or end date cannot be empty for a task. No duration function provided.",Q="Input type invalid, start date and end date needs to be in ISO8601 datetime format.",Z="Input input format; start date cannot be larger than end date.",$="Invalid property: duration; Duration needs to be a function.",tt="Invalid property: duration; Duration needs to return a number.",nt="Invalid property, a valid unique action key must be provided matching the legend key.",et="Invalid property, a valid dateline object must be provided.",it="Invalid property, a valid dateline value must be provided.",at="Invalid property, dateline value type must be in ISO8601 datetime format.",rt="Invalid property, a valid dateline color value must be provided.",ot="Invalid property, a valid dateline shape value must be provided.",ct="Invalid X Axis, tick values are required for Bar graph content.",st="Invalid X Axis, tick values cannot be empty.",lt="Region for Bar graph content cannot have 'x' value empty.",ut="Invalid X Axis, tick values are required for Bar region.",dt="Region x type for bar graph cannot be default, if data-points are in date time format.",ft="Invalid X Axis Info Row, tick info values are required.",ht="Invalid X Axis Info Row, tick info values should match with X Axis tick values.",pt="Invalid X Axis Info Row input format, value property must be provided.",gt="Invalid X Axis Info Row input format, display must be provided for label property.",yt="Invalid property, a valid label object with a valid string must be provided.",xt="Invalid property, a valid label.format callback function property must be provided.",Tt=function(){function t(){}var n=t.prototype;return n.getConfig=function(){throw new Error(D)},n.setInput=function(){throw new Error(O)},n.validateInput=function(){throw new Error(R)},n.clone=function(){throw new Error(N)},t}(),Et=e(0),mt=e.n(Et),vt={BLACK:"#1c1f21",BLUE:"#007cc3",GREEN:"#78c346",LIGHT_PURPLE:"#c985da",ORANGE:"#ed5e00",YELLOW:"#ffc20a",GREY:"#a7aaab",LIGHT_BLUE:"#26a2e5",LIGHT_GREEN:"#a5d784",PURPLE:"#78288c",LIGHT_ORANGE:"#ff7d00",LIGHT_YELLOW:"#ffda6c",WHITE:"#ffffff"},bt={CIRCLE:{path:{id:"circle",d:"M24,48C10.7,48,0,37.3,0,24S10.7,0,24,0s24,10.7,24,24S37.3,48,24,48z"},options:{x:-5,y:-5,scale:.2}},CROSS:{path:{d:"M0,16h16V0h16v16h16v16H32v16H16V32H0V16z"},options:{x:-6,y:-6,scale:.25}},DIAMOND:{path:{d:"M24,0l14,24L24,48L10,24L24,0z"},options:{x:-8,y:-8,scale:.25}},RHOMBUS:{path:{d:"M24,0l24,24L24,48L0,24L24,0z"},options:{x:-6,y:-6,scale:.25}},SQUARE:{path:{d:"M0,0h48v48H0V0z"},options:{x:-5,y:-5,scale:.2}},TEAR_ALT:{path:{d:"M24,48c0,0-4.8-5.9-14.5-17.6c-6.4-8.1-5.1-19.9,2.9-26.3s19.6-5.1,26,3c5.4,6.8,5.4,16.5,0,23.4C28.8,42.1,24,48,24,48z"},options:{x:-6,y:-6,scale:.25}},TEAR_DROP:{path:{d:"M24,0c0,0,4.8,5.9,14.5,17.6c6.4,8.1,5.1,19.9-2.9,26.3s-19.6,5.1-26-3c-5.4-6.8-5.4-16.5,0-23.4C19.2,5.9,24,0,24,0z"},options:{x:-6,y:-6,scale:.25}},TRIANGLE:{path:{d:"M24,4l24,40H0L24,4z"},options:{x:-6,y:-6,scale:.25}},TRIANGLE_DOWN:{path:{d:"M24,44L0,4h48L24,44z"},options:{x:-6,y:-6,scale:.25}},VERTICAL_BAR:{path:{d:"M14,0h20v48H14V0"},options:{x:-6,y:-6,scale:.25}},X:{path:{d:"M0,12L12,0l12,12L36,0l12,12L36,24l12,12L36,48L24,36L12,48L0,36l12-12L0,12z"},options:{x:-6,y:-6,scale:.25}}},At={DEFAULT:"default",TIME_SERIES:"timeseries"},_t={LINEAR:"linear",SPLINE:"cardinal"},It={X:{TOP:"top",BOTTOM:"bottom"},Y:{LEFT:"left",RIGHT:"right"}},St={PADDING:{top:10,bottom:5,left:30,right:50,trackLabel:100},PAIR_ITEM_TYPES:["high","mid","low"],ISO8601_DATE_TIME_MILLI:/(\d{4}-\d{2}-\d{2})T(\d{2}:\d{2}(:\d{2}(\.\d+)*)*)Z/,RESIZE_THROTTLE:1e3/60,BASE_CANVAS_WIDTH_PADDING:10,BASE_LABEL_ICON_SPACING:20,BASE_LABEL_ICON_WIDTH_PADDING:5,BASE_LABEL_ICON_HEIGHT_PADDING:12,TEXT_LABEL_ICON_WIDTH_PADDING:8,TEXT_LABEL_ICON_HEIGHT_PADDING:5,TEXT_LABEL_VERTICAL_POSITION:{top:-10,bottom:20},TIMELINE_HEIGHT:40,PIE_CHART_DEFAULT_HEIGHT:250,DEFAULT_HEIGHT:250,DEFAULT_PLOT_SCALE:.275,DEFAULT_PLOT_SELECTION_SCALE:{posX:1.95,posY:1.95,scale:2},DEFAULT_TIMELINE_PLOT_SELECTION_SCALE:{posX:2,posY:2,scale:2.2},DEFAULT_TIMELINE_SCALE:{posX:1.15,posY:1.15,scale:1.25},DEFAULT_TIMELINE_TICK_LENGTH:12,DEFAULT_LABEL_CHARACTER_LIMIT:12,DEFAULT_GANTT_TRACK_HEIGHT:41,DEFAULT_GANTT_TRACK_SELECTION:{x:1,y:1,width:2,height:1.5},DEFAULT_GANTT_TASK_HEIGHT:23,DEFAULT_GANTT_TASK_PADDING:{top:9,bottom:9},DEFAULT_GANTT_TASK_CHUNK_WIDTH:5,DEFAULT_GANTT_ACTIVITY_CHUNK_WIDTH:5,DEFAULT_GANTT_TASK_SELECTION_PADDING:25,DEFAULT_GANTT_ACTIVITY_OPACITY:.3,DEFAULT_GANTT_ACTIVITY_HEIGHT:31,DEFAULT_GANTT_ACTIVITY_PADDING:{top:5,bottom:5},DEFAULT_BAR_GRAPH_PADDING_ATTRIBUTES:{WIDTH_RATIO:.66,LEFT_SHIFT_OFFSET_RATIO:.5,LEFT_SHIFT_OFFSET_PADDING_RATIO:.16,OUTER_PADDING_RATIO:2.5,REGION_LEFT_SHIFT_OFFSET_PADDING_RATIO:.08,REGION_WIDTH_RATIO:.83},DEFAULT_BAR_HASH_COLOR:"#d3d4d5",DEFAULT_BAR_COLOR:vt.BLUE,DEFAULT_BAR_REGION_COLOR:"#bcbfc0",DEFAULT_REGION_GOAL_LINE_STROKE_WIDTH:5,DEFAULT_BAR_SELECTION_PADDING:5,DEFAULT_ACTIVITY_BAR_HASH_COLOR:"#d3d4d5",DEFAULT_TASK_BAR_HASH_COLOR:"#007cc3",DEFAULT_BAR_STRIPE_COLOR:"#fff",DEFAULT_GANTT_TASK_STRIPE_WIDTH:4,DEFAULT_GANTT_TASK_STRIPE_DISTANCE:2,DEFAULT_GANTT_ACTIVITY_STRIPE_WIDTH:7,DEFAULT_GANTT_ACTIVITY_STRIPE_DISTANCE:2,DEFAULT_Y_AXIS_SPACING:30,HOVER_EVENT:{MOUSE_ENTER:"enter",MOUSE_EXIT:"exit"},VIEW_BOX_SIZE:"0 0 48 48",DEFAULT_COLOR:vt.BLACK,DEFAULT_PIE_COLOR:vt.BLUE,DEFAULT_PIE_LEGEND_SHAPE:bt.SQUARE,X_AXIS:"x",Y_AXIS:"y",Y2_AXIS:"y2",MIN_TICKS:3,MAX_TICK_VARIANCE:100,DEFAULT_INTERPOLATION:"linear",SELECTION_INDICATOR_X_POSITION:10,SELECTION_INDICATOR_Y_POSITION:12.5,d3Transition:function(t){return t.duration(250).ease("linear")},TICK_ORIENTATION:{TOP:-1,BOTTOM:1}};function wt(t){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var kt=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(t){return t};return function(){return!t.apply(void 0,arguments)}},Lt=function(t){return Array.isArray(t)},Ct=function(t){return void 0===t},Dt=kt(Ct),Ot=function(t){return null==t||function(t){return"string"==typeof t}(t)&&0===t.length||"object"===wt(t)&&0===Object.keys(t).length},Rt=kt(Ot),Nt=function(t){return Lt(t)?t.map(Nt):t&&"object"===wt(t)?Object.keys(t).reduce(function(n,e){return Dt(t[e])&&(n[e]=Nt(t[e])),n},{}):t},Pt=function(t){return St.ISO8601_DATE_TIME_MILLI.test(t)},Gt=function(t){return t instanceof Date},Ht=function(t){return new Date(t)},Ft={deepClone:Nt,isFunction:function(t){return"function"==typeof t},isArray:Lt,isDefined:Dt,isUndefined:Ct,isEmpty:Ot,notEmpty:Rt,hasValue:function(t,n){return Object.keys(t).some(function(e){return t[e]===n})},sanitize:function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},getNumber:function(t){return t?+t:0},isDate:Pt,isNumber:function(t){return"number"==typeof t&&!isNaN(t)},parseDateTime:Ht,getTime:function(t){return Ht(t).getTime()},isDateInstance:Gt,isEqual:function(t,n){return Pt(t)||Gt(t)?function(t,n){return t.getTime()===n.getTime()}(Ht(t),Ht(n)):t===n}},Mt=function(t){if(Ft.isEmpty(t))throw new Error(E);if(Ft.isEmpty(t.key))throw new Error(x);if(Ft.isEmpty(t.values))throw new Error(g)},Ut=function(t,n){return Ft.isUndefined(t)?n:t},Xt=function(t){return Ut(t,At.DEFAULT)},Vt=function(){return"carbon-".concat(+new Date,"-clip")},Bt=function(t){return Xt(t)===At.TIME_SERIES?mt.a.time.scale():mt.a.scale.linear()},Yt=function(t,n,e){return Xt(t)===At.TIME_SERIES?[Ft.parseDateTime(n),Ft.parseDateTime(e)]:[Ft.getNumber(n),Ft.getNumber(e)]},jt=function(t,n){return Xt(n)===At.TIME_SERIES?Ft.parseDateTime(t):Ft.getNumber(t)},zt=function(){function t(){}var n=t.prototype;return n.load=function(){throw new Error(w)},n.unload=function(){throw new Error(k)},n.resize=function(){throw new Error(L)},n.redraw=function(){throw new Error(C)},t}(),Wt={container:"carbon-graph-container",canvas:"carbon-graph-canvas",canvasXAxis:"carbon-x-axis-canvas",axis:"carbon-axis",axisX:"carbon-axis-x",axisY:"carbon-axis-y",axisY2:"carbon-axis-y2",axisReferenceLine:"carbon-axis-reference-line",grid:"carbon-grid",gridH:"carbon-horizontal-grid",gridV:"carbon-vertical-grid",gridLowerStep:"carbon-lower-step-grid",gridMidpoint:"carbon-midpoint-grid",gridUpperStep:"carbon-upper-step-grid",highlight:"carbon-highlight",blur:"carbon-blur",svgIcon:"carbon-svgIcon",axisLabelX:"carbon-x-axis-label",axisLabelY:"carbon-y-axis-label",axisLabelY2:"carbon-y2-axis-label",axisLabelYShapeContainer:"carbon-y-axis-label-shape-container",axisLabelY2ShapeContainer:"carbon-y2-axis-label-shape-container",axisLabelRow:"carbon-axis-label-row",axisLabel:"carbon-axis-label-item",axisYTrackLabel:"carbon-y-axis-track-label",legend:"carbon-legend",legendItem:"carbon-legend-item",legendItemBtn:"carbon-legend-item-btn",legendItemIcon:"carbon-legend-item-icon",legendItemText:"carbon-legend-item-text",contentContainer:"carbon-content-container",datelineContent:"carbon-dateline-content",datelineGroup:"carbon-dateline-group",datelinePoint:"carbon-dateline-point",dateline:"carbon-dateline",lineGraphContent:"carbon-line-graph-content",currentLinesGroup:"carbon-data-lines-group",currentPointsGroup:"carbon-data-points-group",dataPointSelection:"carbon-selected-data-point",dataPointDisplayEnable:"carbon-data-pair--selected",pairedBoxGroup:"carbon-data-pairs-group",pairedBox:"carbon-data-pair",pointGroup:"carbon-data-points",line:"carbon-line",point:"carbon-point",pairedLine:"carbon-paired-line",pairedPoint:"carbon-paired-point",high:"carbon-high",low:"carbon-low",mid:"carbon-mid",regionGroup:"carbon-region-group",regionPairGroup:"carbon-region-pair-group",region:"carbon-region",regionHighlight:"carbon-region-highlight",regionBlur:"carbon-region-blur",criticalityOuterPoint:"carbon-criticality-outer",criticalityInnerPoint:"carbon-criticality-inner",criticalityTimelineOuterPoint:"carbon-timeline-criticality-outer",criticalityTimelineInnerPoint:"carbon-timeline-criticality-inner",ganttChartContent:"carbon-gantt-chart-content",trackGroup:"carbon-data-track-group",ganttTrackSelectorGroup:"carbon-gantt-track-selector-group",ganttTrackBarSelection:"carbon-track-selected-bar",taskGroup:"carbon-data-task-group",task:"carbon-data-task",taskBar:"carbon-data-bar",taskBarSelection:"carbon-data-selected-bar",taskBarCompletion:"carbon-data-completion-bar",activityGroup:"carbon-data-activity-group",activity:"carbon-data-activity",activityBar:"carbon-data-activity-bar",timelineGraphContent:"carbon-timeline-graph-content",timelineContentGroup:"carbon-timeline-content-group",bar:"carbon-bar-graph",barGraphContent:"carbon-bar-graph-content",currentBarsGroup:"carbon-data-bars-group",barHashedRect:"carbon-data-bar--hashed",barSelectionGroup:"carbon-bar-selector-group",barGoalLine:"carbon-bar-goal-line",axisInfoRow:"carbon-axis-info-row",axisInfoRowItem:"carbon-axis-info-row-item",axisInfoRowIcon:"carbon-axis-info-row-icon",axisInfoRowDisplay:"carbon-axis-info-row-item-display",axisInfoRowSecondaryDisplay:"carbon-axis-info-row-item-sec-display",pieChartCanvas:"carbon-pie-chart-canvas",pieChartContent:"carbon-pie-chart-content",pieContentGroup:"carbon-data-pie-group",pieContentSlice:"carbon-data-pie-slice",pieLegendItem:"carbon-pie-legend-item",pieLegendItemIcon:"carbon-pie-legend-item-icon",pieLegendItemSliceHover:"carbon-pie-legend-item-slice-hover"},Kt=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=t.svgClassNames,e=void 0===n?"":n,i=t.svgStyles,a=void 0===i?"":i,r=t.transformFn,o=void 0===r?function(){}:r,c=t.onClickFn,s=void 0===c?function(){}:c,l=t.a11yAttributes,u=void 0===l?{}:l,d=t.additionalAttributes,f=void 0===d?{}:d;return{svgClassNames:e,svgStyles:a,transformFn:o,onClickFn:s,a11yAttributes:u,additionalAttributes:f}},Jt=function(t){return document.createElementNS(mt.a.ns.prefix.svg,t)},qt=function(t){if(Ft.isEmpty(t.path))throw new Error(s);if(Ft.isEmpty(t.options))throw new Error(l);if(Ft.isEmpty(t.options.x)||Ft.isEmpty(t.options.y)||Ft.isEmpty(t.options.scale))throw new Error(u)},Qt=function(t,n,e){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:St.DEFAULT_PLOT_SCALE,a=function(t){return mt.a.select(Jt("path")).attr("transform",e(i)).attr("id",t.id||"").attr("fill",t.fill||"").attr("class",t.class||"").attr("d",t.d||"")};return(Ft.isArray(n)?n:[n]).forEach(function(n){return t.append(function(){return a(n).node()})}),t},Zt=function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];return function(t,e){return n.forEach(function(n){return Object.prototype.hasOwnProperty.call(e,n)?t.attr(n,e[n]):void 0})}},$t=function(t){return t.attr("viewBox",St.VIEW_BOX_SIZE)},tn=function(t,n){var e=n.svgClassNames,i=n.svgStyles,a=n.transformFn,r=n.onClickFn,o=n.a11yAttributes,c=n.additionalAttributes,s=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],l=mt.a.select(Jt("svg")).attr("x",t.options.x).attr("y",t.options.y).attr("style",i).attr("class","".concat(Wt.svgIcon," ").concat(e)).attr("role","img").attr("pointer-events",c["pointer-events"]?"none":"auto").on("click",r);return s&&$t(l),Zt("aria-describedby","aria-hidden","aria-selected","aria-disabled")(l,o),Qt(l,t.path,a,t.options.scale),l.node()},nn=function(){function t(t){qt(t),this.shape=t}return t.prototype.getShapeElement=function(t){var n=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];return tn(this.shape,t||Kt(),n)},t}();nn.getDefaultSVGProps=Kt;var en=nn,an={decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},rn=an,on={de_DE:{decimal:",",thousands:".",grouping:[3],currency:[""," €"],dateTime:"%A, der %e. %B %Y, %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]},en_AU:{decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %e %b %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},en_CA:{decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},en_GB:{decimal:".",thousands:",",grouping:[3],currency:["£",""],dateTime:"%a %e %b %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},en_US:an,es_ES:{decimal:",",thousands:".",grouping:[3],currency:[""," €"],dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],shortDays:["dom","lun","mar","mié","jue","vie","sáb"],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortMonths:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"]},fr_FR:{decimal:",",thousands:".",grouping:[3],currency:[""," €"],dateTime:"%A, le %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],months:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortMonths:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."]},pt_BR:{decimal:",",thousands:".",grouping:[3],currency:["R$",""],dateTime:"%A, %e de %B de %Y. %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],shortDays:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],shortMonths:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]},ja_JP:{decimal:".",thousands:",",grouping:[3],currency:["","円"],dateTime:"%Y %b %e %a %X",date:"%Y/%m/%d",time:"%H:%M:%S",periods:["AM","PM"],days:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],shortDays:["日","月","火","水","木","金","土"],months:["睦月","如月","弥生","卯月","皐月","水無月","文月","葉月","長月","神無月","霜月","師走"],shortMonths:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]}},cn="lowerStepTickValues",sn="midpointTickValues",ln="upperStepTickValues",un=function(t,n,e,i,a,r,o){var c=fn(e,a,i);o(t,n,hn(r),c)},dn=function(t,n,e,i,a,r,o){var c=fn(e,a,i);o(t,n,hn(r),c)},fn=function(t,n,e){return{axis:{x:{ticks:{values:t},orientation:"".concat(e)}},height:"".concat(n)}},hn=function(t){return t===cn?Wt.gridLowerStep:t===sn?Wt.gridMidpoint:t===ln?Wt.gridUpperStep:""},pn=function(t){var n=[];return Ft.notEmpty(t.values)&&(n=n.concat(t.values)),Ft.notEmpty(t.upperStepTickValues)&&(n=n.concat(t.upperStepTickValues)),n},gn=function(t){return!Ft.isEmpty(t)&&(Ft.notEmpty(t.midpointTickValues)||Ft.notEmpty(t.upperStepTickValues)||Ft.notEmpty(t.lowerStepTickValues))},yn=function(t,n,e,i){gn(e.axis.x.ticks)?function(t,n,e,i){Ft.notEmpty(e.axis.x.ticks.values)&&Ft.isEmpty(e.axis.x.ticks.lowerStepTickValues)?un(t,n,e.axis.x.ticks.values,e.axis.x.orientation,e.height,cn,i):Ft.notEmpty(e.axis.x.ticks.lowerStepTickValues)&&un(t,n,e.axis.x.ticks.lowerStepTickValues,e.axis.x.orientation,e.height,cn,i),Ft.notEmpty(e.axis.x.ticks.midpointTickValues)&&un(t,n,e.axis.x.ticks.midpointTickValues,e.axis.x.orientation,e.height,sn,i),Ft.notEmpty(e.axis.x.ticks.upperStepTickValues)&&un(t,n,e.axis.x.ticks.upperStepTickValues,e.axis.x.orientation,e.height,ln,i)}(t,n,e,i):i(t,n,Wt.gridV,e)},xn=function(t,n,e,i){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:e.axis.x.orientation;if(gn(e.axis.x.ticks)){var r=e.axis.x.ticks.lowerStepTickValues?e.axis.x.ticks.lowerStepTickValues:e.axis.x.ticks.values,o={values:r,upperStepTickValues:e.axis.x.ticks.upperStepTickValues};n.x=i(t,pn(o),e,a)}},Tn=function(t,n,e,i){gn(e.axis.x.ticks)?function(t,n,e,i){Ft.notEmpty(e.axis.x.ticks.values)&&Ft.isEmpty(e.axis.x.ticks.lowerStepTickValues)?dn(t,n,e.axis.x.ticks.values,e.axis.x.orientation,e.height,cn,i):Ft.notEmpty(e.axis.x.ticks.lowerStepTickValues)&&dn(t,n,e.axis.x.ticks.lowerStepTickValues,e.axis.x.orientation,e.height,cn,i),Ft.notEmpty(e.axis.x.ticks.midpointTickValues)&&dn(t,n,e.axis.x.ticks.midpointTickValues,e.axis.x.orientation,e.height,sn,i),Ft.notEmpty(e.axis.x.ticks.upperStepTickValues)&&dn(t,n,e.axis.x.ticks.upperStepTickValues,e.axis.x.orientation,e.height,ln,i)}(t,n,e,i):i(t,n,Wt.gridV,e)},En=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:St.Y_AXIS;return 0>mt.a.min(t[n].domain())&&0<mt.a.max(t[n].domain())},mn=function(t){return[{x:t.x.domain()[0],y:0},{x:t.x.domain()[1],y:0}]},vn=function(t,n){return mt.a.svg.line().x(function(n){return t.x(n.x)}).y(function(e){return t[n](e.y)})},bn=function(t,n,e){return t.x=Sn(n.x,e.axis.x.ticks.values,jn(e),An(e.locale,e.axis.x.ticks.format,e.axis.x.type),e.axis.x.orientation),t.axisInfoRow.x=wn(n.x,In(e.axis.x.orientation)),t.y=Ln(n.y,e.axis.y.ticks.values,e.height,An(e.locale,e.axis.y.ticks.format)),oe(e.axis)&&(t.y2=Cn(n.y2,e.axis.y2.ticks.values,e.height,An(e.locale,e.axis.y2.ticks.format))),t},An=function(t,n){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:At.DEFAULT;return Ft.isEmpty(n)?null:e===At.TIME_SERIES?t.timeFormat(n):t.numberFormat(n)},_n=function(t){return Ft.isEmpty(t)?null:t.map(function(t){return Ft.isDate(t)?Ft.parseDateTime(t):t})},In=function(t){return $n(t)?It.X.BOTTOM:It.X.TOP},Sn=function(t,n,e,i){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:It.X.BOTTOM;return mt.a.svg.axis().scale(t).orient(a).ticks(Math.max(e/St.MAX_TICK_VARIANCE,St.MIN_TICKS)).tickValues(_n(n)).tickFormat(i)},wn=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:It.X.BOTTOM;return mt.a.svg.axis().scale(t).orient(n).tickValues([])},kn=function(t,n,e,i){return Sn(t.x,n,jn(e),An(e.locale,e.axis.x.ticks.format,e.axis.x.type),i)},Ln=function(t,n,e,i){return mt.a.svg.axis().scale(t).orient("left").ticks(e/St.DEFAULT_Y_AXIS_SPACING).tickValues(_n(n)).tickFormat(i)},Cn=function(t,n,e,i){return mt.a.svg.axis().scale(t).orient("right").ticks(e/St.DEFAULT_Y_AXIS_SPACING).tickValues(_n(n)).tickFormat(i)},Dn=function(t){return t===St.Y_AXIS?-90:t===St.Y2_AXIS?90:0},On=function(t){return Fn(t)+jn(t)/2},Rn=function(t){return $n(t.axis.x.orientation)?Hn(t)-2*t.axisLabelHeights.x:Un(t)+2*t.axisLabelHeights.x+2*(t.padding.bottom-t.axisInfoRowLabelHeight)},Nn=function(t){return t.padding.left-t.axisLabelWidths.y},Pn=function(t){return Vn(t)+(zn(t)-t.padding.left/2)/2},Gn=function(t){return Bn(t)+t.padding.right+t.axisLabelWidths.y2},Hn=function(t){return $n(t.axis.x.orientation)?t.axisLabelHeights.x?2*t.axisLabelHeights.x+t.padding.top:t.padding.top:t.padding.bottom},Fn=function(t){return t.axisSizes.y+t.axisLabelWidths.y},Mn=function(t){return $n(t.axis.x.orientation)?zn(t)+Hn(t):Hn(t)},Un=function(t){return $n(t.axis.x.orientation)?Hn(t):zn(t)+Hn(t)},Xn=function(t){return Fn(t)},Vn=function(t){return Hn(t)},Bn=function(t){return Xn(t)+jn(t)},Yn=function(t){return Hn(t)},jn=function(t){return t.canvasWidth-t.axisSizes.y-t.axisSizes.y2-t.axisLabelWidths.y-t.axisLabelWidths.y2},zn=function(t){return t.height},Wn=function(t){if(t.padding.hasCustomPadding)return t.padding.bottom;var n=Bt(t.axis.x.type).domain(t.axis.x.domain).range([0,t.canvasWidth]),e=mt.a.svg.axis().scale(n).orient(It.X.BOTTOM),i=mt.a.select("body").append("div"),a=i.append("svg").append("g").call(e).node().getBoundingClientRect().height;return i.remove(),a},Kn=function(t){return[0,jn(t)]},Jn=function(t){return[zn(t),0]},qn=function(t,n){var e=mt.a.select("body").append("div"),i=e.append("svg").append("g").attr("transform","rotate(".concat(Dn(n),")"));re(i,t);var a=i.node().getBoundingClientRect().width;return e.remove(),a},Qn=function(t){var n=mt.a.select("body").append("div"),e=n.append("svg").append("g");re(e,t);var i=e.node().getBoundingClientRect().height;return n.remove(),i},Zn=function(t,n){if(n.padding.hasCustomPadding)return n.padding.left;var e=mt.a.scale.linear().domain([n.axis[t].domain.lowerLimit,n.axis[t].domain.upperLimit]).range([n.height,0]),i=mt.a.svg.axis().scale(e).orient("left"),a=mt.a.select("body").append("div"),r=a.append("svg").append("g").call(i).node().getBoundingClientRect().width;return a.remove(),r},$n=function(t){return t===It.X.TOP},te=function(t){t.axisSizes={},t.axisSizes.y=t.padding.hasCustomPadding?Zn(St.Y_AXIS,t):Zn(St.Y_AXIS,t)+t.padding.left,t.axisSizes.y2=function(t){return t.padding.hasCustomPadding?t.padding.right:(oe(t.axis)?Zn(St.Y2_AXIS,t):20)+t.padding.right}(t),t.axisSizes.x=Wn(t)},ne=function(t,n){var e=(t.axis[n].domain.upperLimit-t.axis[n].domain.lowerLimit)/2;return t.axis[n].domain.lowerLimit+e},ee=function(t){var n=[],e=function(n){var e=t.axis[n].domain.lowerLimit,i=ne(t,n),a=Math.abs((i-function(t,n,e){var i=t.axis[n].dataRange.min;return i<e?i:e}(t,n,e))/(i-e));return 1<a?a:1};return n.push(e(St.Y_AXIS)),oe(t.axis)&&n.push(e(St.Y2_AXIS)),n},ie=function(t){var n=[],e=function(n){var e=t.axis[n].domain.upperLimit,i=ne(t,n),a=Math.abs((function(t,n,e){var i=t.axis[n].dataRange.max;return i>e?i:e}(t,n,e)-i)/(e-i));return 1<a?a:1};return n.push(e(St.Y_AXIS)),oe(t.axis)&&n.push(e(St.Y2_AXIS)),n},ae=function(t){var n=function(t,n){return n-t};return{upperLimit:ie(t).sort(n)[0],lowerLimit:ee(t).sort(n)[0]}},re=function(t,n){return t.append("text").attr("text-anchor","middle").append("tspan").text(n)},oe=function(t){return Ft.isDefined(t.y2)&&t.y2.show},ce=function(t,n,e){if(t instanceof ra){var i=0,a=0;return n.filter(function(n){return!!(n instanceof ra)&&n.config.group===t.config.group}).forEach(function(t){a+=t.valuesRange[e].max,i+=t.valuesRange[e].min}),{min:i,max:a}}return{min:t.valuesRange[e].min,max:t.valuesRange[e].max}},se=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:St.Y_AXIS,e=2<arguments.length?arguments[2]:void 0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[];if(Ft.isEmpty(e.axis.y.dataRange)&&(e.axis.y.dataRange={}),oe(e.axis)&&Ft.isEmpty(e.axis.y2.dataRange)&&(e.axis.y2.dataRange={}),!Ft.isEmpty(t)&&!Ft.isEmpty(t.valuesRange)){var a=ce(t,i,n),r=e.axis[n].dataRange.oldMin,o=e.axis[n].dataRange.oldMax,c=!(r&&o&&(r<=a.min||o>=a.max));e.axis[n].dataRange.isRangeModified=c,c&&(e.axis[n].dataRange.oldMin=e.axis[n].dataRange.min,e.axis[n].dataRange.oldMax=e.axis[n].dataRange.max,e.axis[n].dataRange.min=a.min,e.axis[n].dataRange.max=a.max)}},le=function(t,n){return(Ft.isDate(t)||Ft.isDateInstance(t))&&Xt(n)===At.TIME_SERIES||!Ft.isDate(t)&&!Ft.isDateInstance(t)&&Xt(n)!==At.TIME_SERIES},ue=function(t){return Math.round(100*(t+1e-5))/100},de=function(t,n){return t[0]*n[0]+t[1]*n[1]},fe=function(t){var n=Math.sqrt(de(t,t));return n&&(t[0]/=n,t[1]/=n),n},he=function(t){return function(t){var n=document.createElementNS("http://www.w3.org/2000/svg","g");n.setAttributeNS(null,"transform",t);var e=n.transform.baseVal.consolidate(),i=e?e.matrix:{a:1,b:0,c:0,d:1,e:0,f:0},a=[i.a,i.b],r=[i.c,i.d],o=fe(a),c=de(a,r),s=fe(function(t,n,e){return t[0]+=e*n[0],t[1]+=e*n[1],t}(r,a,-c))||0;return a[0]*r[1]<r[0]*a[1]&&(a[0]*=-1,a[1]*=-1,o*=-1),{translate:[i.e,i.f],scale:[o,s]}}(function(t){return mt.a.select(t).attr("transform")}(t)).scale.map(function(t){return ue(t)})},pe=function(t,n,e,i){if(!Ft.isEmpty(n.dateline)){var a=e.selectAll(".".concat(Wt.datelineGroup)).transition().call(St.d3Transition).attr("transform","translate(".concat(Fn(n),",").concat(i(n),")"));a.selectAll(".".concat(Wt.datelinePoint)).select("path").attr("transform",function(n){return"translate(".concat(t.x(Ft.parseDateTime(n.value)),", 0) scale(").concat(he(this),")")}),a.selectAll(".".concat(Wt.dateline)).attr("x1",function(n){return t.x(Ft.parseDateTime(n.value))}).attr("y1",0).attr("x2",function(n){return t.x(Ft.parseDateTime(n.value))}).attr("y2",zn(n))}},ge=function(t,n){Ft.isEmpty(t.onClick)||function(t){var n=mt.a.select(t.parentNode);return n.attr("aria-selected","true"!==n.attr("aria-selected")),n}(n).call(function(e){return t.onClick(function(){e.attr("aria-selected",!1)},t,mt.a.select(n))})},ye=function(t,n,e){var i=e.append("g").classed(Wt.datelineContent,!0);n.dateline.forEach(function(t){var e=i.append("g").classed(Wt.datelineGroup,!0).datum(t).attr("style",function(t){return"fill: ".concat(t.color,"; stroke: ").concat(t.color,";")}).attr("aria-selected",!1),a=!!Ft.isDefined(n.clickPassThrough)&&n.clickPassThrough.datelines;e.append("line").classed(Wt.dateline,!0).attr("style",function(t){return"fill: ".concat(t.color,"; stroke: ").concat(t.color)}).attr("pointer-events",a?"none":"auto"),e.append(function(n){return new en(De(n)).getShapeElement(Kt({svgClassNames:Wt.datelinePoint,svgStyles:"fill: ".concat(n.color,"; stroke: ").concat(n.color),transformFn:function(t){return"scale(".concat(t,")")},onClickFn:function(){ge(n,this)},a11yAttributes:{"aria-hidden":!t.showDatelineIndicator,"aria-disabled":!Ft.isFunction(t.onClick)}}))})}),pe(t,n,e,Vn)},xe=function(t){if(Ft.isEmpty(t))throw new Error(et);if(Ft.isEmpty(t.value))throw new Error(it);if(!Ft.isDate(t.value))throw new Error(at);if(Ft.isEmpty(t.color))throw new Error(rt);if(t.showDatelineIndicator&&Ft.isEmpty(t.shape))throw new Error(ot)};function Te(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var Ee=St.BASE_CANVAS_WIDTH_PADDING,me=St.DEFAULT_HEIGHT,ve=function(t,n){return n.attr("height",t.canvasHeight+be(t)).attr("width",t.padding.hasCustomPadding?t.canvasWidth:t.canvasWidth-Ee)},be=function(t){return Ft.isDefined(t.axisInfoRowLabelHeight)?t.axisInfoRowLabelHeight:0},Ae=function(t,n){var e;if(Ft.notEmpty(n.axis.y.ticks.values)){var i=n.axis.y.ticks.values;e=t.y.tickValues(_n(i)).tickSize(-1*jn(n),0,0).tickFormat("")}else e=t.y.tickSize(-1*jn(n),0,0).tickFormat("");return e},_e=function(t,n){var e,i=$n(n.axis.x.orientation)?St.TICK_ORIENTATION.TOP:St.TICK_ORIENTATION.BOTTOM;if(Ft.notEmpty(n.axis.x.ticks.values)){var a=n.axis.x.ticks.values;e=t.x.tickValues(_n(a)).tickSize(zn(n)*i,0,0).tickFormat("")}else e=t.x.tickSize(zn(n)*i,0,0).tickFormat("");return e},Ie=function(t,n,e,i){t.select(".".concat(e)).transition().call(St.d3Transition).call(_e(n,i))},Se=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t.outlierStretchFactor=ae(t);var e=function(n,e,i,a){var r=(i-e)/2,o=(i+e)/2;return Ce({lowerLimit:o-r*n.lowerLimit,upperLimit:o+r*n.upperLimit},t.axisPadding[a])};if(Ft.notEmpty(n)){var i=n.config.yAxis||St.Y_AXIS;t.axis[i].domain=e(t.outlierStretchFactor,t.axis[i].domain.lowerLimit,t.axis[i].domain.upperLimit,i)}return t},we=function(t,n,e,i){t.append("g").classed(e,!0).call(_e(n,i))},ke=function(t,n){t.x=Bt(n.axis.x.type).domain(n.axis.x.domain).range(Kn(n)).clamp(!0),t.y=mt.a.scale.linear().domain([n.axis.y.domain.lowerLimit,n.axis.y.domain.upperLimit]).range(Jn(n)).clamp(!0),n.axis.x.rangeRounding&&t.x.nice(),n.axis.y.rangeRounding&&t.y.nice(),oe(n.axis)&&(t.y2=mt.a.scale.linear().domain([n.axis.y2.domain.lowerLimit,n.axis.y2.domain.upperLimit]).range(Jn(n)).clamp(!0),n.axis.y2.rangeRounding&&t.y2.nice())},Le=function(t){var n,e,i,a;ve(t.config,t.svg),function(t,n){n.select("clipPath#".concat(t.clipPathId)).selectAll("rect").attr("height",t.height).attr("width",jn(t)).attr(St.Y_AXIS,t.axis.x.orientation&&Hn(t))}(t.config,t.svg),function(t,n,e,i){bn(t,n,e),xn(n,t,e,kn),i.select(".".concat(Wt.axisX)).transition().call(St.d3Transition).attr("transform","translate(".concat(Fn(e),",").concat(Un(e),")")).call(t.x),i.select(".".concat(Wt.axisY)).transition().call(St.d3Transition).attr("transform","translate(".concat(Xn(e),", ").concat(Vn(e),")")).call(t.y),oe(e.axis)&&i.select(".".concat(Wt.axisY2)).transition().call(St.d3Transition).attr("transform","translate(".concat(Bn(e),", ").concat(Yn(e),")")).call(t.y2),i.select(".".concat(Wt.axisInfoRow)).transition().call(St.d3Transition).attr("transform","translate(".concat(Fn(e),", ").concat(Mn(e),")")).call(t.axisInfoRow.x)}(t.axis,t.scale,t.config,t.svg),function(t,n,e,i){bn(t,n,e),i.select(".".concat(Wt.grid)).attr("transform","translate(".concat(Fn(e),",").concat(Hn(e),")")),e.showHGrid&&i.select(".".concat(Wt.gridH)).transition().call(St.d3Transition).call(Ae(t,e)),e.showVGrid&&Tn(i,t,e,Ie)}(t.axis,t.scale,t.config,t.svg),function(t,n){n.select(".".concat(Wt.contentContainer)).transition().call(St.d3Transition).attr("width",jn(t)).attr("height",t.height).attr(St.Y_AXIS,t.axis.x.orientation&&Hn(t))}(t.config,t.svg),function(t,n){t.axis.x.label&&n.select(".".concat(Wt.axisLabelX)).transition().call(St.d3Transition).attr("transform","translate(".concat(On(t),",").concat(Rn(t),") rotate(").concat(Dn(St.X_AXIS),")")),t.axis.y.label&&n.select(".".concat(Wt.axisLabelY)).transition().call(St.d3Transition).attr("transform","translate(".concat(Nn(t),", ").concat(Pn(t),") rotate(").concat(Dn(St.Y_AXIS),")")),oe(t.axis)&&n.select(".".concat(Wt.axisLabelY2)).transition().call(St.d3Transition).attr("transform","translate(".concat(Gn(t),", ").concat(Pn(t),") rotate(").concat(Dn(St.Y2_AXIS),")"))}(t.config,t.svg),ze(t.config,t.axesLabelShapeGroup),t.axis,n=t.scale,e=t.config,i=t.svg,a=function(t,e){return t.transition().call(St.d3Transition).attr("aria-hidden",!1).attr("d",vn(n,e)(mn(n)))},En(n,St.Y_AXIS)&&a(i.select("path.".concat(Wt.axis,".").concat(Wt.axisY,".").concat(Wt.axisReferenceLine)),St.Y_AXIS),oe(e.axis)&&En(n,St.Y2_AXIS)&&a(i.select("path.".concat(Wt.axis,".").concat(Wt.axisY2,".").concat(Wt.axisReferenceLine)),St.Y2_AXIS),pe(t.scale,t.config,t.svg,Vn)},Ce=function(t){var n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],e=t.lowerLimit,i=t.upperLimit,a=Math.abs(i-e),r=.05*a;return{lowerLimit:e-(n?r:0),upperLimit:i+(n?r:0)}},De=function(t){return t.shape||bt.CIRCLE},Oe=function(t){return t.color||St.DEFAULT_COLOR},Re=function(t){var n=0,e=t.resize.bind(t),i=function(){return window.requestAnimationFrame(e)},a=function(t,e){return function(){clearTimeout(n),n=setTimeout(i,e.throttle)}}(0,t.config);window.addEventListener("resize",a,!0),t.resizeHandler=a},Ne=function(t){window.removeEventListener("resize",t.resizeHandler,!0)},Pe=function(t,n){var e=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];t&&(e?t.selectAll(n).remove():t.select(n).remove())},Ge=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:St.DEFAULT_LABEL_CHARACTER_LIMIT;return t.length>n},He=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:St.DEFAULT_LABEL_CHARACTER_LIMIT;return t.substring(0,n).concat("...")},Fe=function(t){return t.selectAll("svg").size()},Me=function(t,n){return n.transition().call(St.d3Transition).attr("transform","translate(".concat(function(t){return Nn(t)+St.BASE_LABEL_ICON_HEIGHT_PADDING}(t),", ").concat(function(t,n){return Pn(t)+n*St.BASE_LABEL_ICON_HEIGHT_PADDING/1.5}(t,Fe(n)),") rotate(").concat(Dn(St.Y_AXIS),")"))},Ue=function(t,n){return n.transition().call(St.d3Transition).attr("transform","translate(".concat(function(t){return Gn(t)-St.BASE_LABEL_ICON_HEIGHT_PADDING}(t),", ").concat(function(t,n){return Pn(t)-n*St.BASE_LABEL_ICON_HEIGHT_PADDING/1.5}(t,Fe(n)),") rotate(").concat(Dn(St.Y2_AXIS),")"))},Xe=function(t,n){var e=n.append("g").classed(Wt.axisLabelYShapeContainer,!0);return Me(t,e),e},Ve=function(t,n){var e=n.append("g").classed(Wt.axisLabelY2ShapeContainer,!0);return Ue(t,e),e},Be=function(t){return t.selectAll("svg").transition().call(St.d3Transition).each(function(t,n){mt.a.select(this).attr("x",function(){return St.BASE_LABEL_ICON_SPACING*n})})},Ye=function(t,n,e){n.label&&n.label.display&&e&&(function(t,n){t.append(function(){return new en(n.shape||bt.CIRCLE).getShapeElement(Kt({svgStyles:"fill: ".concat(Oe(n),";"),transformFn:function(t){return"scale(".concat(t,")")},a11yAttributes:{"aria-describedby":n.key}}))})}(e,n),Be(e))},je=function(t,n){Ft.notEmpty(t)&&(Pe(t,'svg[aria-describedby="'.concat(n.key,'"]')),Be(t))},ze=function(t,n){oe(t.axis)&&Ft.notEmpty(n)&&(Me(t,n[St.Y_AXIS]),Ue(t,n[St.Y2_AXIS]))},We=function(t){if(!t)throw new Error(yt);if(Ft.isDefined(t.format)&&!Ft.isFunction(t.format))throw new Error(xt)},Ke=function(t){return Ft.sanitize(t)},Je=function(t,n,e,i){if(!Ft.isFunction(i.clickHandler))throw new Error("Invalid Argument: eventHandlers needs a clickHandler callback function.");if(!Ft.isFunction(i.hoverHandler))throw new Error("Invalid Argument: eventHandlers needs a hoverHandler callback function.");We(n.label);var a=Ke(n.label.display),r=e.indexOf(n.key),o=t.append("li").classed(Wt.legendItem,!0).attr("aria-selected",-1<r).attr("aria-disabled",!!n.label.isDisabled).attr("role","listitem").attr("aria-labelledby",a).attr("aria-describedby",n.key);return!n.label.isDisabled&&-1<r&&o.on("click",function(){return i.clickHandler(this,n)}).on("mouseenter",function(){return i.hoverHandler(n,St.HOVER_EVENT.MOUSE_ENTER)}).on("mouseleave",function(){return i.hoverHandler(n,St.HOVER_EVENT.MOUSE_EXIT)}),o.append("button").classed(Wt.legendItemBtn,!0).attr("tabindex",n.label.isDisabled?-1:0).append(function(){return new en(De(n)).getShapeElement(Kt({svgClassNames:Wt.legendItemIcon,svgStyles:"fill: ".concat(Oe(n),";")}),!0)}),o.append("label").classed(Wt.legendItemText,!0).attr("tabindex",-1).text(a),t},qe=function(t,n){return Pe(t,'li[aria-describedby="'.concat(n.key,'"]'))},Qe=function(t){return t.append("ul").classed(Wt.legend,!0).attr("role","list")},Ze=function(t){var n=mt.a.select(t),e=n.attr("aria-selected");return n.attr("aria-selected","true"!==e)},$e=function(t,n,e,i){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[];t.filter(function(t){return t!==e}).forEach(function(r){n.selectAll('svg[aria-describedby="'.concat(r,'"]')).classed(Wt.blur,i===St.HOVER_EVENT.MOUSE_ENTER),n.selectAll('path[aria-describedby="'.concat(r,'"]')).classed(Wt.blur,i===St.HOVER_EVENT.MOUSE_ENTER),n.selectAll(".".concat(Wt.pairedLine)).classed(Wt.blur,i===St.HOVER_EVENT.MOUSE_ENTER),n.selectAll('rect[aria-describedby="'.concat(r,'"]')).classed(Wt.blur,i===St.HOVER_EVENT.MOUSE_ENTER),n.selectAll(".".concat(Wt.barGoalLine,'[aria-describedby="region_').concat(r,'"]')).attr("aria-hidden",i===St.HOVER_EVENT.MOUSE_ENTER),n.selectAll('[aria-describedby="text_label_'.concat(r,'"]')).classed(Wt.blur,i===St.HOVER_EVENT.MOUSE_ENTER),Ft.notEmpty(a)&&a.forEach(function(a){return a(t,n,e,i,r)})})},ti=function(t,n,e){var i=e.hoverHandler;We(n.label);var a=function(t,n,e){return e?e(t,n):"".concat(Ke(t),": ").concat(n)}(n.label.display,n.value,n.label.format),r=t.append("li").classed(Wt.pieLegendItem,!0).attr("role","listitem").attr("tabindex",0).attr("aria-labelledby",a).attr("aria-describedby",n.key);r.append(function(){return new en(De(n)).getShapeElement(Kt({svgClassNames:Wt.pieLegendItemIcon,svgStyles:"fill: ".concat(Oe(n),";")}),!0)}),r.append("label").classed(Wt.legendItemText,!0).text(a),r.on("mouseenter",function(){return i(n,St.HOVER_EVENT.MOUSE_ENTER)}).on("mouseleave",function(){return i(n,St.HOVER_EVENT.MOUSE_EXIT)})};var ni=function(t){function n(){var n;return(n=t.call(this)||this).config=null,n.input=null,n}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);var e=n.prototype;return e.getConfig=function(){return this.config},e.setInput=function(t){return this.input=t,this},e.validateInput=function(){return Mt(this.input),this},e.clone=function(){return this.config=Ft.deepClone(this.input),this},n}(Tt),ei=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0,e=n.color||St.DEFAULT_BAR_COLOR,i="fill: ".concat(e,"; stroke: ").concat(e,";");return Ft.isEmpty(t)?i:(!0===t.isDotted&&(i="".concat(i,"; stroke-width: 1; stroke-dasharray: 2, 2;")),!0===t.isHollow&&(i="".concat(i," fill: ").concat(vt.WHITE,"; stroke-width: 1;")),!0===t.isHashed&&(i="".concat(i," stroke-width: 1;")),i)},ii=function(t,n,e,i,a){return t.append("rect").attr("x",n).attr("y",e).attr("width",i).attr("height",a)},ai=function(t,n,e,i,a,r){return ii(t,n,e,i,a).classed(Wt.taskBar,!0).attr("style",r),t},ri=function(t,n,e,i,a,r,o,c){return(Ft.isEmpty(n)||n.empty())&&t.append("defs"),t.select("#".concat("pattern-stripe")).empty()&&n.append("pattern").attr("id","pattern-stripe").attr("patternUnits","userSpaceOnUse").attr("patternTransform","rotate(45)").attr("width",St.DEFAULT_GANTT_TASK_STRIPE_WIDTH).attr("height",o).attr("style","fill: ".concat(St.DEFAULT_BAR_STRIPE_COLOR,";")).append("rect").attr("width",St.DEFAULT_GANTT_TASK_STRIPE_DISTANCE).attr("height",o),ii(e,i,a,r,o).classed(Wt.taskBar,!0).attr("style",c||"fill: ".concat(St.DEFAULT_TASK_BAR_HASH_COLOR,";")),ii(e,i,a,r,o).classed(Wt.taskBar,!0).attr("style","fill: url(#".concat("pattern-stripe",");")),e};function oi(t){return function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var ci=function(t,n){if(Ft.isEmpty(t))throw new Error(G);if(Ft.isEmpty(t.start)&&Ft.isEmpty(t.end))throw new Error(M);if(Ft.notEmpty(t.axis)&&(t.axis!==St.Y_AXIS&&t.axis!==St.Y2_AXIS||t.axis!==n))throw new Error(H);if(Ft.isEmpty(t.axis)&&St.Y_AXIS!==n)throw new Error(H);if(t.start&&!Ft.isNumber(t.start)||t.end&&!Ft.isNumber(t.end))throw new Error(F);if(+t.start>+t.end)throw new Error(U)},si=function(t,n){return Pe(t,'[aria-describedby="region_'.concat(n.key,'"]'),!0)},li=function(t,n,e,i,a){var r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:St.Y_AXIS;i.forEach(function(i){ci(i,r),e.append("rect").datum(i).classed(Wt.region,!0).attr("aria-hidden",!1).attr("aria-describedby",a).attr("style",i.color?"fill: ".concat(i.color,";"):"").attr(St.X_AXIS,Fn(n)).attr(St.Y_AXIS,di(t,n)(i)).attr("width",jn(n)).attr("height",function(){return fi(mt.a.select(this),i,t,n)})})},ui=function(t){return t.axis||St.Y_AXIS},di=function(t,n){return function(e){return e.end?ue(t[ui(e)](e.end))+Hn(n):Hn(n)}},fi=function(t,n,e,i){var a=i.height,r=Ft.getNumber(t.attr(St.Y_AXIS));return(n.start?ue(e[ui(n)](n.start))+Hn(i):a+Hn(i))-r||St.DEFAULT_REGION_GOAL_LINE_STROKE_WIDTH},hi=function(t,n,e){return e.selectAll(".".concat(Wt.region)).attr(St.X_AXIS,Fn(n)).attr(St.Y_AXIS,di(t,n)).transition().call(St.d3Transition).attr("width",jn(n)).attr("height",function(e){return fi(mt.a.select(this),e,t,n)})},pi=function(t){return 1===t.length},gi=function(t){return t.selectAll(".".concat(Wt.region)).attr("aria-hidden",!0)},yi=function(t,n){return pi(t)?function(t,n){return t.selectAll(".".concat(Wt.region,'[aria-describedby="region_').concat(n,'"]')).attr("aria-hidden",function(){return"true"!==mt.a.select(this).attr("aria-hidden")})}.apply(void 0,[n].concat(oi(t))):gi(n)},xi=function(t,n,e,i){var a=i===St.HOVER_EVENT.MOUSE_ENTER&&-1<t.indexOf(e);n.selectAll(".".concat(Wt.region,'[aria-describedby="region_').concat(e,'"]')).classed(Wt.regionHighlight,a)},Ti=function(t,n,e){var i=n.x0.rangeBand()*St.DEFAULT_BAR_GRAPH_PADDING_ATTRIBUTES.LEFT_SHIFT_OFFSET_RATIO,a=n.x1(e.group),r=n.x1.rangeBand()*St.DEFAULT_BAR_GRAPH_PADDING_ATTRIBUTES.REGION_LEFT_SHIFT_OFFSET_PADDING_RATIO;return t.x(e.x)+a-i+r},Ei=function(t,n,e,i){if(ci(t,n),Ft.isEmpty(t.x)&&!Ft.isDateInstance(t.x))throw new Error(lt);if(!le(t.x,i))throw new Error(dt);if(!e.filter(function(n){return Ft.isEqual(n,t.x)}).length)throw new Error(ut)},mi=function(t){return t.axis||St.Y_AXIS},vi=function(t){return function(n){return n.end?ue(t[mi(n)](n.end)):0}},bi=function(t,n,e,i){var a=Ft.getNumber(t.attr(St.Y_AXIS));return(n.start?ue(e[mi(n)](n.start))+St.DEFAULT_REGION_GOAL_LINE_STROKE_WIDTH:i.height+St.DEFAULT_REGION_GOAL_LINE_STROKE_WIDTH)-a||St.DEFAULT_REGION_GOAL_LINE_STROKE_WIDTH},Ai=St.DEFAULT_BAR_SELECTION_PADDING,_i=function(t,n,e,i){return e.selectAll(".".concat(Wt.taskBarSelection)).each(function(a,r){var o=function(t,n,e,i){var a=Ri(t,n),r=i.filter(function(t){return-1<e.indexOf(t.key)}),o=function(t){var n=0;if(Ft.notEmpty(t)){var e=Math.max(0,t[0].y+t[0].y0);t.forEach(function(t,i){var a=Math.max(0,t.y+t.y0);e<=a&&(n=i,e=a)})}return n}(r),c=function(t){var n=0;if(Ft.notEmpty(t)){var e=Math.min(0,t[0].y+t[0].y0);t.forEach(function(t,i){var a=Math.min(0,t.y+t.y0);e>=a&&(n=i,e=a)})}return n}(r),s=function(t){var n=0;if(Ft.notEmpty(t)){var e=0;t.forEach(function(t,i){var r=Math.max(e,a.x(t));r>e&&(n=i,e=r)})}return n}(r),l=Ft.notEmpty(r)?a.x(r[0]):0,u=Ft.notEmpty(r)?a.y(r[o]):0,d=Ft.notEmpty(r)?a.x(r[s])+a.width:0,f=Ft.notEmpty(r)?a.y(r[c])+a.height(r[c]):0;return{x:function(){return Ft.notEmpty(r)?l-Ai:0},y:function(){return Ft.notEmpty(r)?u-Ai:0},height:function(){return Ft.notEmpty(r)?f-u+2*Ai:0},width:function(){return Ft.notEmpty(r)?d-l+2*Ai:0}}}(t,n,i.shownTargets,a.valueSubsetArray);e.select("rect[aria-describedby=bar-selector-".concat(r,"]")).transition().call(St.d3Transition).attr("x",o.x()).attr("y",o.y()).attr("height",o.height()).attr("width",o.width())})},Ii=function(t,n){return n.some(function(n){return 0>t.indexOf(n.x)})},Si=function(t,n){if(Ft.isEmpty(t.axis.x.ticks)||Ft.isEmpty(t.axis.x.ticks.values))throw new Error(st);if(function(t,n){return n.some(function(n){return!le(n.x,t)})}(t.axis.x.type,n.values))throw new Error(I);if(Ii(t.axis.x.ticks.values,n.values))throw new Error(ct);if(Ft.isDefined(n.axisInfoRow)){if(Ft.isEmpty(n.axisInfoRow))throw new Error(ft);if(Ii(t.axis.x.ticks.values,n.axisInfoRow))throw new Error(ht);if(wi(n.axisInfoRow))throw new Error(pt);if(ki(n.axisInfoRow))throw new Error(gt)}return t.shownTargets.push(n.key),Li(t,n)},wi=function(t){return t.some(function(t){return Ft.isUndefined(t.value)})},ki=function(t){return t.some(function(t){return Ft.isUndefined(t.value.label)||Ft.isUndefined(t.value.label.display)})},Li=function(t,n){var e=t.axis.x.type,i=function(t){return Xt(e)===At.TIME_SERIES?Ft.parseDateTime(t):Ft.getNumber(t)};return Ft.notEmpty(n.axisInfoRow)&&(n.axisInfoRow.forEach(function(t){return t.group=n.group}),!t.axisInfoRowLabelHeight&&(t.axisInfoRowLabelHeight=Ci(n)?2*Qn("dummyString"):Qn("dummyString"),t.padding.bottom+=t.axisInfoRowLabelHeight)),n.internalValuesSubset=n.values.map(function(t){var e=!!n.style&&n.style.isHashed;return{onClick:n.onClick,x:i(t.x),y:t.y,y0:0,color:n.color||vt.BLUE,label:n.label,yAxis:n.yAxis||St.Y_AXIS,key:n.key,isHashed:t.style?t.style.isHashed:e,style:ei(t.style?t.style:n.style,n),group:n.group}}),n.shape=bt.SQUARE,n.color=n.color||vt.BLUE,n},Ci=function(t){return t.axisInfoRow.some(function(t){return t.value.label.secondaryDisplay})},Di=function(t){return t.axisSizes.y+t.axisLabelWidths.y},Oi=function(t,n,e,i,a){i.select(".".concat(Wt.barSelectionGroup)).empty()&&function(t,n,e,i){var a=e.axis.x.ticks.values.map(function(t){return{x:t,valueSubsetArray:[]}}),r=i.append("g").classed(Wt.barSelectionGroup,!0).attr("transform","translate(".concat(Di(e),",").concat(Hn(e),")")).selectAll("".concat(Wt.taskBarSelection)).data(a);r.enter().append("rect").attr("aria-hidden",!0).classed(Wt.taskBarSelection,!0).attr("aria-describedby",function(t){return"bar-selector-".concat(a.indexOf(t))}).attr("rx",3).attr("ry",3),r.exit().transition().call(St.d3Transition).remove()}(0,0,e,i);var r=i.append("g").classed(Wt.barGraphContent,!0).attr("clip-path","url(#".concat(e.clipPathId,")")).attr("aria-hidden",0>e.shownTargets.indexOf(a.key)).attr("aria-describedby",a.key).append("g").classed(Wt.currentBarsGroup,!0).attr("transform","translate(".concat(Di(e),",").concat(Hn(e),")")).data([a]).selectAll(".".concat(Wt.bar)).data(a.internalValuesSubset);Ni(t,n,e,i,r.enter(),a.regions,a.axisInfoRow)},Ri=function(t,n){var e=n.x0.rangeBand()*St.DEFAULT_BAR_GRAPH_PADDING_ATTRIBUTES.LEFT_SHIFT_OFFSET_RATIO,i=n.x1.rangeBand()*St.DEFAULT_BAR_GRAPH_PADDING_ATTRIBUTES.LEFT_SHIFT_OFFSET_PADDING_RATIO,a=function(n,a){return t.x(n)+i+a-e};return{x:function(t){var e=n.x1(t.group);return a(t.x,e||0)||0},y:function(n){return 0>n.y?t[n.yAxis](n.y0):t[n.yAxis](n.y+n.y0)},height:function(n){return Math.abs(t[n.yAxis](0)-t[n.yAxis](+n.y))},width:n.x1.rangeBand()*St.DEFAULT_BAR_GRAPH_PADDING_ATTRIBUTES.WIDTH_RATIO}},Ni=function(t,n,e,i,a,r,o){var c=Ri(t,n);return a.append("g").classed(Wt.bar,!0).each(function(a,s){var l=mt.a.select(this);if((a.isHashed?ri(i,i.append("defs"),l,c.x(a),c.y(a),c.width,c.height(a),a.style).selectAll("rect"):ii(l,c.x(a),c.y(a),c.width,c.height(a)).attr("style","".concat(a.style))).attr("aria-describedby",a.key).classed(Wt.taskBar,!0).attr("aria-hidden",0>e.shownTargets.indexOf(a.key)).attr("aria-disabled",!Ft.isFunction(a.onClick)).on("click",function(t){Gi(t,s,i,e.axis.x.type,e.axis.x.ticks.values,function(t,n,e){return t.select("rect[aria-describedby=bar-selector-".concat(e.axis.x.type===At.TIME_SERIES?e.axis.x.ticks.values.indexOf(new Date(n.x).toISOString()):e.axis.x.ticks.values.indexOf(n.x),"]")).datum().valueSubsetArray.filter(function(t){return-1<e.shownTargets.indexOf(t.key)})}(i,t,e))}),Ft.notEmpty(r)){var u=r.filter(function(t){return Ft.isEqual(t.x,a.x)});Ft.notEmpty(u)&&function(t,n,e,i,a){var r=e.selectAll("g").data(i);r.enter().append("rect").classed(Wt.region,!0).classed(Wt.barGoalLine,!0).attr("aria-hidden",0>n.shownTargets.indexOf(a)).attr("aria-describedby","region_".concat(a)).attr("style",function(t){return"fill: ".concat(t.color||St.DEFAULT_BAR_REGION_COLOR,";")}).attr(St.X_AXIS,function(t){return 0|t.xRange}).attr(St.Y_AXIS,vi(t,n)).attr("width",function(t){return 0|t.width}).attr("height",function(e){return bi(mt.a.select(this),e,t,n)}),r.exit().transition().call(St.d3Transition).remove()}(t,e,l,u,a.key)}if(Ft.notEmpty(o)){var d=o.filter(function(t){return Ft.isEqual(t.x,a.x)});Ft.notEmpty(d)&&Fi(n,t,e,i,d[0],a.key,o.indexOf(d[0]))}})},Pi=function(t,n){return Pe(t,'g[aria-describedby="'.concat(n,'"]'))},Gi=function(t,n,e,i,a,r){Ft.isEmpty(t.onClick)||function(t,n,e,i){var a=n.select("rect[aria-describedby=bar-selector-".concat(e===At.TIME_SERIES?i.indexOf(new Date(t.x).toISOString()):i.indexOf(t.x),"]")),r="true"===a.attr("aria-hidden");return Hi(a,r),a}(t,e,i,a).call(function(e){return t.onClick(function(){Hi(e,!1)},t.key,n,r,e)})},Hi=function(t,n){t.attr("aria-hidden",!n),t.attr("aria-selected",n)},Fi=function(t,n,e,i,a,r,o){e.axis.x.type===At.TIME_SERIES&&(a.x=Ft.parseDateTime(a.x));var c=Ri(n,t),s=i.select(".".concat(Wt.axisInfoRow)).attr("aria-hidden",!1).datum(a.value).append("g").classed(Wt.axisInfoRowItem,!0).attr("text-anchor","middle").attr("transform","translate(".concat(Yi(c,a),", ").concat(ji(e),")")).attr("aria-describedby","text_label_".concat(r)).attr("aria-hidden",0>e.shownTargets.indexOf(r)).attr("aria-disabled",!Ft.isFunction(a.value.onClick)).on("click",function(t){Mi(t,o,i,e.axis.x.type,r)});Ft.notEmpty(a.value.shape)&&(s.append("g").classed(Wt.axisInfoRowIcon,!0).attr("transform","translate(".concat(-qn(Bi(a.value.label.display,a.value.characterCount))/2-St.TEXT_LABEL_ICON_WIDTH_PADDING,", \n                ").concat(-St.TEXT_LABEL_ICON_HEIGHT_PADDING,")")),zi(s,e,a,r)),Vi(s,e,a,r)},Mi=function(t,n,e,i,a){Ft.isEmpty(t.onClick)||Ui(t,e,i,a,n).call(function(e){return t.onClick(function(){Xi(e,!1)},t,n,a,e)})},Ui=function(t,n,e,i,a){var r=n.selectAll("g[aria-describedby=text_label_".concat(i,"]")),o=mt.a.select(r[0][a]),c="true"===o.attr("aria-selected");return Xi(o,!c),o},Xi=function(t,n){t.attr("aria-selected",n)},Vi=function(t,n,e){t.append("text").classed(Wt.axisInfoRowDisplay,!0).text(Bi(e.value.label.display,e.value.characterCount)).attr("style","fill: ".concat(e.value.color,";")),e.value.label.secondaryDisplay&&t.append("text").classed(Wt.axisInfoRowSecondaryDisplay,!0).text(Bi(e.value.label.secondaryDisplay,e.value.characterCount)).attr("dy",$n(n.axis.x.orientation)?n.axisLabelHeights.x:-n.axisLabelHeights.x)},Bi=function(t,n){return Ge(t,n)?He(t,n):t},Yi=function(t,n,e){return Ft.isDefined(e)&&e<n.length?t.x(n[e])+t.width/2:t.x(n)+t.width/2},ji=function(t){return $n(t.axis.x.orientation)?St.TEXT_LABEL_VERTICAL_POSITION.bottom:St.TEXT_LABEL_VERTICAL_POSITION.top},zi=function(t,n,e,i){return t.select(".".concat(Wt.axisInfoRowIcon)).append(function(){return new en(De(e.value)).getShapeElement(Kt({svgClassNames:Wt.point,svgStyles:"fill: ".concat(Oe(e.value.shape)),transformFn:function(t){return"scale(".concat(t,")")},a11yAttributes:{"aria-hidden":0>n.shownTargets.indexOf(i),"aria-describedby":i}}))})},Wi=function(t,n){return Pe(t,'g[aria-describedby="text_label_'.concat(n,'"]'),!0)},Ki=function(t,n,e,i){return function(a,r){Ze(a),function(t,n){var e=t.indexOf(n.key);-1<e?t.splice(e,1):t.push(n.key)}(e.shownTargets,r),i.selectAll('g[aria-describedby="'.concat(r.key,'"]')).attr("aria-hidden",!0),Hi(i.selectAll(".".concat(Wt.taskBarSelection)),!1),window.requestAnimationFrame(function(t,n){return function(){n.redraw(t),t.resize()}}(t,n))}},Ji=function(t,n){return function(e,i){$e(t,n,e.key,i,[])}},qi=function(t,n){var e=[];return Ft.notEmpty(t)&&t.forEach(function(t){t instanceof ra&&-1<n.indexOf(t.config.key)&&function(t){0>e.indexOf(t)&&e.push(t)}(t.config.group)}),e},Qi=function(t,n,e){Ft.notEmpty(n.axis.x.ticks)&&Ft.notEmpty(n.axis.x.ticks.values)&&(t.x0=mt.a.scale.ordinal().domain(n.axis.x.ticks.values).rangeBands(Kn(n),function(t,n){return St.DEFAULT_BAR_GRAPH_PADDING_ATTRIBUTES.OUTER_PADDING_RATIO/(3*qi(t,n).length+St.DEFAULT_BAR_GRAPH_PADDING_ATTRIBUTES.OUTER_PADDING_RATIO)}(e,n.shownTargets)),t.x1=mt.a.scale.ordinal())},Zi=function(t,n,e,i,a){var r=a.shownTargets,o=n.filter(function(t){return t.key===e.config.key||t.group===e.config.group&&-1!==r.indexOf(t.key)});$i(e.dataTarget.internalValuesSubset,o.splice(o.indexOf(e.config)+1)),function(t,n,e,i){Ft.isEmpty(n)||Ft.isEmpty(t)||Ft.isEmpty(i.axis.x.ticks)||Ft.isEmpty(i.axis.x.ticks.values)||e.x1.domain(t).rangeBands([0,e.x0.rangeBand()])}(qi(t,a.shownTargets),t,i,a)},$i=function(t,n){t.forEach(function(t){var e=0,i=0;n.forEach(function(n){var a=n.values.filter(function(n){return Ft.isEqual(n.x,t.x)});0<a.length&&(0<a[0].y?e+=a[0].y:i+=a[0].y)}),t.y0=0>t.y?i:e})};function ta(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function na(t){return function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var ea=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:St.Y_AXIS,e=Math.min.apply(Math,na(t.map(function(t){return t.y}))),i=Math.max.apply(Math,na(t.map(function(t){return t.y})));return ta({},n,{min:0>e?e:0,max:0<i?i:0})},ia=function(t){return(new ni).setInput(t).validateInput().clone().getConfig()},aa=function(t){return t.config={},t.ordinalScale={x0:{},x1:{}},t.dataTarget={},t.valuesRange={},t},ra=function(t){function n(n){var e;return e=t.call(this)||this,aa(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)),e.config=ia(n),e.config.yAxis=Ut(e.config.yAxis,St.Y_AXIS),e.config.axisPadding=!1,e.valuesRange=ea(e.config.values,e.config.yAxis),e}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);var e=n.prototype;return e.load=function(t){return function(t,n){Ft.isEmpty(t.group)?t.group=t.key:!n.filter(function(n){return n.config.key===t.group}).length&&(t.group=t.key)}(this.config,t.content),Qi(this.ordinalScale,t.config,t.content),this.dataTarget=Si(t.config,this.config),Oi(t.scale,this.ordinalScale,t.config,t.svg,this.dataTarget),function(t,n,e){n.selectAll(".".concat(Wt.taskBarSelection)).each(function(n){var i=t.filter(function(t){return e.axis.x.type===At.TIME_SERIES?t.x.toISOString()===n.x:t.x===n.x});Ft.notEmpty(i)&&n.valueSubsetArray.push(i[0])})}(this.dataTarget.internalValuesSubset,t.svg,t.config),function(t,n,e,i){e.label&&e.label.display&&i&&Je(i,e,t.shownTargets,n)}(t.config,{clickHandler:Ki(t,this,t.config,t.svg),hoverHandler:Ji(t.config.shownTargets,t.svg)},this.dataTarget,t.legendSVG),Ye(t.config,this.dataTarget,t.axesLabelShapeGroup[this.config.yAxis]),this},e.unload=function(t){return Pi(t.svg,this.dataTarget.key),qe(t.legendSVG,this.dataTarget),je(t.axesLabelShapeGroup[this.config.yAxis],this.dataTarget),Wi(t.svg.select(".".concat(Wt.axisInfoRow)),this.dataTarget.key),function(t,n){t.selectAll(".".concat(Wt.taskBarSelection)).each(function(t){var e=t.valueSubsetArray.findIndex(function(t){return t.key===n});-1<e&&t.valueSubsetArray.splice(e,1)})}(t.svg,this.dataTarget.key),aa(this),this},e.resize=function(t){return Qi(this.ordinalScale,t.config,t.content),Zi(t.content,t.contentTargets,this,this.ordinalScale,t.config),function(t,n,e,i,a){var r=Ri(t,n);_i(t,n,e,a),e.selectAll("rect[aria-describedby=".concat(i.key,"]")).transition().call(St.d3Transition).attr("x",function(t){return r.x(t)}).attr("y",function(t){return r.y(t)}).attr("width",r.width).attr("height",function(t){return r.height(t)})}(t.scale,this.ordinalScale,t.svg,this.dataTarget,t.config),Ft.notEmpty(this.dataTarget.axisInfoRow)&&function(t,n,e,i,a,r){var o=Ri(n,t);i.select(".".concat(Wt.axisInfoRow)).selectAll('g[aria-describedby="text_label_'.concat(r.key,'"]')).transition().call(St.d3Transition).attr("transform",function(t,n){return"translate(".concat(Yi(o,a,n),", ").concat(ji(e),")")})}(this.ordinalScale,t.scale,t.config,t.svg,this.dataTarget.axisInfoRow,this.dataTarget),Ft.notEmpty(this.dataTarget.regions)&&(function(t,n,e,i){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:St.Y_AXIS,r=n.x1.rangeBand()*St.DEFAULT_BAR_GRAPH_PADDING_ATTRIBUTES.REGION_WIDTH_RATIO;i.regions.forEach(function(o){Ei(o,a,e.axis.x.ticks.values,e.axis.x.type),o.x=jt(o.x,e.axis.x.type),o.group=i.group,o.xRange=Ti(t,n,o),o.width=r})}(t.scale,this.ordinalScale,t.config,this.dataTarget,this.config.yAxis),function(t,n,e){e.transition().call(St.d3Transition).attr(St.X_AXIS,function(t){return 0|t.xRange}).attr(St.Y_AXIS,vi(t,n)).attr("width",function(t){return 0|t.width}).attr("height",function(e){return bi(mt.a.select(this),e,t,n)})}(t.scale,t.config,t.svg.selectAll("rect[aria-describedby=region_".concat(this.dataTarget.key,"]")))),this},e.redraw=function(t){return Pi(t.svg,this.dataTarget.key),Wi(t.svg.select(".".concat(Wt.axisInfoRow)),this.dataTarget.key),Oi(t.scale,this.ordinalScale,t.config,t.svg,this.dataTarget),this},n}(zt),oa=function(){function t(){}var n=t.prototype;return n.generate=function(){throw new Error(i)},n.loadContent=function(){throw new Error(a)},n.unloadContent=function(){throw new Error(r)},n.resize=function(){throw new Error(o)},n.destroy=function(){throw new Error(c)},t}(),ca=function(t,n){Ft.isArray(t)?t.forEach(function(t){return n(t)}):n(t)};var sa=function(t,n){var e=Ft.deepClone(t.axis);return n.clipPathId=Vt(),n.bindTo=t.bindTo,n.bindLegendTo=t.bindLegendTo,n.padding=function(t,n){return Ft.isDefined(t.padding)?{top:Ut(n.top,St.PADDING.top),bottom:Ut(n.bottom,St.PADDING.bottom),right:Ut(n.right,St.PADDING.right),left:Ut(n.left,St.PADDING.trackLabel),hasCustomPadding:!0}:{top:St.PADDING.top,bottom:St.PADDING.bottom,right:St.PADDING.right,left:St.PADDING.trackLabel,hasCustomPadding:!1}}(n,t.padding),n.axis={x:{},y:{}},n.locale=mt.a.locale(Ut(t.locale,rn)),n.throttle=Ut(t.throttle,St.RESIZE_THROTTLE),n.dateline=Ut(Ft.deepClone(t.dateline),[]),n.actionLegend=Ut(Ft.deepClone(t.actionLegend),[]),n.showActionLegend=Ut(t.showActionLegend,!1),n.axis.x=Object.assign(e.x,{type:At.TIME_SERIES,show:Ut(e.x.show,!0),ticks:Ut(e.x.ticks,{}),domain:Yt(At.TIME_SERIES,e.x.lowerLimit,e.x.upperLimit),rangeRounding:Ut(e.x.rangeRounding,!0)}),n.axis.y={show:!e.y||Ut(e.y.show,!0),trackCount:0,trackList:{},rangeRounding:!!e.y&&Ut(e.y.rangeRounding,!0)},n.shownTargets=[],n},la=function(t){function n(){var n;return(n=t.call(this)||this).config=null,n.input=null,n}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);var e=n.prototype;return e.getConfig=function(){return this.config},e.setInput=function(t){return this.input=t,this},e.validateInput=function(){if(Ft.isEmpty(this.input))throw new Error(h);if(Ft.isEmpty(this.input.bindTo))throw new Error(f);if(Ft.isEmpty(this.input.axis)||Ft.isEmpty(this.input.axis.x))throw new Error(m);if(Ft.isEmpty(this.input.axis.x.lowerLimit)||Ft.isEmpty(this.input.axis.x.upperLimit))throw new Error(v);if(!Ft.isDate(this.input.axis.x.lowerLimit)||!Ft.isDate(this.input.axis.x.upperLimit))throw new Error(_);return Ft.notEmpty(this.input.dateline)&&this.input.dateline.forEach(function(t){xe(t)}),this},e.clone=function(){return this.config=Ft.deepClone(this.input),this},n}(Tt),ua=function(t){if(Ft.isEmpty(t))throw new Error(p);if(Ft.isEmpty(t.key))throw new Error(X);if(Ft.isEmpty(t.startDate)&&Ft.isEmpty(t.endDate))throw new Error(V);if((Ft.isEmpty(t.startDate)||Ft.isEmpty(t.endDate))&&Ft.isEmpty(t.duration))throw new Error(B);if(t.startDate&&!Ft.isDate(t.startDate)||t.endDate&&!Ft.isDate(t.endDate))throw new Error(Y);if(Ft.getTime(t.startDate)>Ft.getTime(t.endDate))throw new Error(j)},da=function(t){if(Ft.isEmpty(t))throw new Error(p);if(Ft.isEmpty(t.key))throw new Error(K);if(Ft.isEmpty(t.startDate)&&Ft.isEmpty(t.endDate))throw new Error(J);if((Ft.isEmpty(t.startDate)||Ft.isEmpty(t.endDate))&&Ft.isEmpty(t.duration))throw new Error(q);if(t.startDate&&!Ft.isDate(t.startDate)||t.endDate&&!Ft.isDate(t.endDate))throw new Error(Q);if(Ft.getTime(t.startDate)>Ft.getTime(t.endDate))throw new Error(Z)},fa=function(t){if(Ft.isEmpty(t))throw new Error(p);if(Ft.isEmpty(t.key))throw new Error(x);if(Ft.isEmpty(t.values))throw new Error(g)},ha=function(t,n){var e=n.posX,i=n.posY,a=n.scale,r=Ft.deepClone(t);return r.options.x=t.options.x*e,r.options.y=t.options.y*i,r.options.scale*=a,r},pa=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ei(t.style,{color:t.color})},ga=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=t.color||vt.BLUE,e="fill: ".concat(n,"; fill-opacity: ").concat(St.DEFAULT_GANTT_ACTIVITY_OPACITY,";");return Ft.isEmpty(t.style)?e:(!0===t.style.isHashed&&(e="fill: ".concat(St.DEFAULT_ACTIVITY_BAR_HASH_COLOR,"; fill-opacity: ").concat(St.DEFAULT_GANTT_ACTIVITY_OPACITY,";")),e)},ya=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length?arguments[1]:void 0,e=2<arguments.length?arguments[2]:void 0;return Ft.isEmpty(n)?Ft.parseDateTime(Ft.getTime(e)-t):Ft.parseDateTime(n)},xa=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length?arguments[1]:void 0,e=2<arguments.length?arguments[2]:void 0;return Ft.isEmpty(e)?Ft.parseDateTime(Ft.getTime(n)+t):Ft.parseDateTime(e)},Ta=function(t,n){return 0==Ft.getTime(n)-Ft.getTime(t)},Ea=function(t,n){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:100;return e*(n-t)/100},ma=function(t,n,e){var i=e.duration?function(t){if(t&&!Ft.isFunction(t))throw new Error($);var n=t();if("number"!=typeof n)throw new Error(tt);return n}(e.duration):0;return{y:n.display,startDate:ya(i,e.startDate,e.endDate),endDate:xa(i,e.startDate,e.endDate),dependencies:e.dependencies,color:e.color||vt.BLUE,label:e.label||null,key:e.key,style:ga(e),isHashed:Tr(e.style),clickPassThrough:!!Ft.isDefined(t.clickPassThrough)&&t.clickPassThrough.activities}},va=function(t,n,e){return{path:mt.a.select(e),x:t.x(n.startDate),y:t.y(n.y)+St.DEFAULT_GANTT_ACTIVITY_PADDING.top,width:t.x(n.endDate)-t.x(n.startDate)||St.DEFAULT_GANTT_TASK_CHUNK_WIDTH,height:St.DEFAULT_GANTT_ACTIVITY_HEIGHT}},ba=function(t,n,e,i,a,r){var o=a.selectAll("g").data(r.map(function(t){return ma(e,i,Ft.deepClone(t))}));o.enter().append("g").classed(Wt.activity,!0).attr("aria-selected",!1).attr("aria-describedby",function(t){return t.key}).each(function(e){e.isHashed?function(t,n,e,i){var a=va(n,e,i);Aa(t,t.select("defs"),a.path,a.x,a.y,a.width,a.height,e.style).attr("pointer-events",function(){return e.clickPassThrough?"none":"auto"})}(t,n,e,this):function(t,n,e){var i=va(t,n,e);(Ta(n.startDate,n.endDate)?Ia:_a)(i.path,i.x,i.y,i.width,i.height,n.style).attr("pointer-events",function(){return n.clickPassThrough?"none":"auto"})}(n,e,this)}),o.exit().transition().call(St.d3Transition).remove()},Aa=function(t,n,e,i,a,r,o,c){return(Ft.isEmpty(n)||n.empty())&&t.append("defs"),t.select("#".concat("pattern-stripe-gantt-activity")).empty()&&n.append("pattern").attr("id","pattern-stripe-gantt-activity").attr("patternUnits","userSpaceOnUse").attr("patternTransform","rotate(135)").attr("width",St.DEFAULT_GANTT_ACTIVITY_STRIPE_WIDTH).attr("height",o).attr("style","fill: ".concat(St.DEFAULT_BAR_STRIPE_COLOR,";")).append("rect").attr("width",St.DEFAULT_GANTT_ACTIVITY_STRIPE_DISTANCE).attr("height",o),ii(e,i,a,r,o).classed(Wt.activityBar,!0).attr("style",c||"fill: ".concat(St.DEFAULT_ACTIVITY_BAR_HASH_COLOR,"; fill-opacity: ").concat(St.DEFAULT_GANTT_ACTIVITY_OPACITY,";")),ii(e,i,a,r,o).classed(Wt.activityBar,!0).attr("style","fill: url(#".concat("pattern-stripe-gantt-activity","); fill-opacity: 0.7;")),e},_a=function(t,n,e,i,a,r){return ii(t,n,e,i,a).classed(Wt.activityBar,!0).attr("style",r),t},Ia=function(t,n,e,i,a,r){return _a(t,n,e,St.DEFAULT_GANTT_TASK_CHUNK_WIDTH,a,r),t},Sa=function(t,n,e,i){return{path:e,x:St.DEFAULT_GANTT_TRACK_SELECTION.x,y:n.y(i.trackLabel.display)+St.DEFAULT_GANTT_TRACK_SELECTION.y,width:cr(t)-St.DEFAULT_GANTT_TRACK_SELECTION.width,height:t.axis.y.trackList[i.key].trackHeight-St.DEFAULT_GANTT_TRACK_SELECTION.height}},wa=function(t,n){Ft.isEmpty(n.onClick)||function(t,n){var e=t.select("[aria-describedby='".concat(n,"']"));return e.attr("aria-selected","true"!==e.attr("aria-selected")),e}(t,n.key).call(function(t){return n.onClick(function(){var n="true"===t.attr("aria-selected");t.attr("aria-selected",!n)},n.key,n,t)})},ka=function(t,n,e){var i=n.append("g").classed(Wt.ganttTrackSelectorGroup,!0).attr("transform","translate(".concat(Fn(t.config),",").concat(sr(t.config),")"));!function(t,n){ii(t.path,t.x,t.y,t.width,t.height).attr("aria-selected",!1).classed(Wt.ganttTrackBarSelection,!0).attr("aria-describedby",n.key).attr("aria-disabled",!Ft.isFunction(n.onClick)).on("click",function(){return wa(t.path,n)})}(Sa(t.config,t.scale,i,e),e)},La=".".concat(Wt.axisYTrackLabel," .tick text"),Ca=function(t,n,e){var i=function(t,n){return t.y.domain().indexOf(n)}(t,e);return!t||function(t,n,e,i){return 0>i||Ft.isEmpty(n.axis.y.trackList)||t.y.domain().length>Object.keys(n.axis.y.trackList).length}(t,n,0,i)?0:function(t){return Object.keys(t).map(function(n){return t[n].trackHeight})}(n.axis.y.trackList)[i]/2},Da=function(t,n){return t?t.x(n):0},Oa=function(t,n){var e;if(Ft.notEmpty(n.axis.x.ticks.values)){var i=n.axis.x.ticks.values;e=t.x.orient(It.X.BOTTOM).tickValues(_n(i)).tickSize(zn(n),0,0).tickFormat("")}else e=t.x.orient(It.X.BOTTOM).tickSize(zn(n),0,0).tickFormat("");return e},Ra=function(t,n){return t.y.tickSize(-1*cr(n),0,0).tickFormat("")},Na=function(t,n,e,i){t.select(".".concat(e)).transition().call(St.d3Transition).call(Oa(n,i))},Pa=function(t,n,e){return e.selectAll(La).attr("transform",function(t,n){return function(e){return"translate(".concat(Da(),", ").concat(Ca(t,n,e),")")}}(t,n))},Ga=function(){return mt.a.selectAll(La).text(function(t){return function(t){return Ge(t)?He(t):t}(t)})},Ha=function(t,n){return function(e){return function(i){return"translate(".concat(Da(t,e.x),",").concat(function(t,n,e){return(t?t.y(e):0)+Ca(t,n,e)}(t,n,e.y),") scale(").concat(i,")")}}},Fa=function(t,n,e,i){return e.selectAll(i).each(function(e){mt.a.select(this).selectAll("path").transition().call(St.d3Transition).attr("transform",function(){return Ha(t,n)(e)(he(this))})})},Ma=function(t){ve(t.config,t.svg),function(t,n){n.select("clipPath#".concat(t.clipPathId)).selectAll("rect").attr("height",zn(t)).attr("width",cr(t))}(t.config,t.svg),function(t,n,e,i){ur(t,n,e),xn(n,t,e,kn,It.X.TOP),i.select(".".concat(Wt.axisX)).transition().call(St.d3Transition).attr("transform","translate(".concat(Fn(e),",").concat(sr(e),")")).call(t.x),i.select(".".concat(Wt.axisY)).transition().call(St.d3Transition).attr("transform","translate(".concat(Xn(e),", ").concat(lr(e),")")).call(t.y)}(t.axis,t.scale,t.config,t.svg),function(t,n,e,i){ur(t,n,e),i.select(".".concat(Wt.grid)).attr("transform","translate(".concat(Fn(e),",").concat(sr(e),")")),i.select(".".concat(Wt.gridH)).transition().call(St.d3Transition).call(Ra(t,e)),Tn(i,t,e,Na)}(t.axis,t.scale,t.config,t.svg),function(t,n){n.select(".".concat(Wt.contentContainer)).transition().call(St.d3Transition).attr("width",cr(t)).attr("height",zn(t))}(t.config,t.svg),pe(t.scale,t.config,t.svg,lr)},Ua=function(t,n,e){return e.selectAll("g.".concat(Wt.task)).selectAll("rect").each(function(){var n=mt.a.select(this);n.classed(Wt.taskBarSelection)?function(t,n){var e=Math.floor(St.DEFAULT_GANTT_TASK_SELECTION_PADDING/2),i=Math.floor(St.DEFAULT_GANTT_TASK_SELECTION_PADDING/4);n.transition().call(St.d3Transition).attr("x",function(n){return t.x(n.startDate)-i}).attr("y",function(n){return t.y(n.y)+St.DEFAULT_GANTT_TASK_PADDING.top-i}).attr("width",function(n){return(t.x(n.endDate)-t.x(n.startDate)||St.DEFAULT_GANTT_TASK_CHUNK_WIDTH)+e}).attr("height",St.DEFAULT_GANTT_TASK_HEIGHT+e)}(t,n):function(t,n){n.transition().call(St.d3Transition).attr("x",function(n){return t.x(n.startDate)}).attr("y",function(n){return t.y(n.y)+St.DEFAULT_GANTT_TASK_PADDING.top}).attr("width",function(n){return n.percentage?mt.a.select(this).classed(Wt.taskBarCompletion)?Ea(t.x(n.startDate),t.x(n.endDate),n.percentage):t.x(n.endDate)-t.x(n.startDate):t.x(n.endDate)-t.x(n.startDate)||St.DEFAULT_GANTT_TASK_CHUNK_WIDTH})}(t,n)})},Xa=function(t,n,e){return e.selectAll("g.".concat(Wt.activity)).selectAll("rect.".concat(Wt.activityBar)).each(function(){!function(t,n){n.transition().call(St.d3Transition).attr("x",function(n){return t.x(n.startDate)}).attr("y",function(n){return t.y(n.y)+St.DEFAULT_GANTT_ACTIVITY_PADDING.top}).attr("width",function(n){return t.x(n.endDate)-t.x(n.startDate)||St.DEFAULT_GANTT_ACTIVITY_CHUNK_WIDTH})}(t,mt.a.select(this))})},Va=function(t,n,e){e.append("g").classed(Wt.pointGroup,!0).each(function(e,i){var a=mt.a.select(this);Ft.isFunction(e.onClick)&&mr(t,n,a,e,i),function(t,n,e,i,a){e.append(function(){return new en(De(i)).getShapeElement(Kt({svgClassNames:Wt.point,svgStyles:"fill: ".concat(Oe(i),";"),transformFn:Ha(t,n)(i),onClickFn:function(){vr(i,a,this)},a11yAttributes:{"aria-hidden":!1,"aria-describedby":i.key,"aria-disabled":!Ft.isFunction(i.onClick)},additionalAttributes:{"pointer-events":i.clickPassThrough&&!Ft.isFunction(i.onClick)}}))})}(t,n,a,e,i)})},Ba=function(t,n,e,i){i.forEach(function(i){Er(t.scale,t.config,n,function(t,n,e){var i=function(t){if(!Ft.isDate(t))throw new Error(I);return Ft.parseDateTime(t)};return e.values.map(function(a){return{key:e.key,onClick:e.onClick,x:i(a),y:n.display,label:e.label,color:e.color||"",shape:e.shape||bt.CIRCLE,clickPassThrough:!!Ft.isDefined(t.clickPassThrough)&&t.clickPassThrough.events}})}(t.config,e,function(t){return fa(t),Ft.deepClone(t)}(i)),Va)})},Ya=function(t,n,e){Ft.isEmpty(t.onClick)||function(t){var n=mt.a.select(t),e=n.select(".".concat(Wt.taskBarSelection));return n.attr("aria-selected","true"!==n.attr("aria-selected")),e.attr("aria-hidden","true"!==e.attr("aria-hidden")),n}(e).call(function(e){return t.onClick(function(){var t=e.select(".".concat(Wt.taskBarSelection));t.attr("aria-hidden","true"!==t.attr("aria-hidden")),e.attr("aria-selected",!1)},t.key,n,t,e)})},ja=function(t,n,e){var i=e.duration?function(t){if(t&&!Ft.isFunction(t))throw new Error(z);var n=t();if("number"!=typeof n)throw new Error(W);return n}(e.duration):0;return{onClick:e.onClick,y:n.display,startDate:ya(i,e.startDate,e.endDate),endDate:xa(i,e.startDate,e.endDate),percentage:e.percentage,dependencies:e.dependencies,color:e.color||vt.BLUE,label:e.label||null,key:e.key,style:pa(e),isHashed:Tr(e.style),clickPassThrough:!!Ft.isDefined(t.clickPassThrough)&&t.clickPassThrough.tasks}},za=function(t,n,e){return{path:mt.a.select(e),x:t.x(n.startDate),y:t.y(n.y)+St.DEFAULT_GANTT_TASK_PADDING.top,width:t.x(n.endDate)-t.x(n.startDate)||St.DEFAULT_GANTT_TASK_CHUNK_WIDTH,height:St.DEFAULT_GANTT_TASK_HEIGHT}},Wa=function(t){ii(t.path,t.x,t.y,t.width,t.height).classed(Wt.taskBarSelection,!0).attr("rx",3).attr("ry",3).attr("aria-hidden",!0)},Ka=function(t,n,e,i){var a=za(t,n,i);Wa(a),function(t,n,e,i,a,r,o){return ii(t,n,e,i,a).classed(Wt.taskBar,!0).attr("style","fill: ".concat(vt.WHITE,"; stroke: ").concat(o,"; stroke-width: 1;")),ii(t,n,e,r,a).classed(Wt.taskBarCompletion,!0).attr("style","fill: ".concat(o,";")),t}(a.path,a.x,a.y,a.width,a.height,Ea(t.x(n.startDate),t.x(n.endDate),n.percentage),n.color).attr("aria-disabled",!Ft.isFunction(n.onClick)).attr("pointer-events",function(){return n.clickPassThrough&&!Ft.isFunction(n.onClick)?"none":"auto"}).on("click",function(){return Ya(n,e,i)})},Ja=function(t,n,e,i){var a=za(t,n,i);Wa(a),(Ta(n.startDate,n.endDate)?function(t,n,e,i,a,r){return ai(t,n,e,St.DEFAULT_GANTT_TASK_CHUNK_WIDTH,a,r),t}:ai)(a.path,a.x,a.y,a.width,a.height,n.style).attr("aria-disabled",!Ft.isFunction(n.onClick)).attr("pointer-events",function(){return n.clickPassThrough&&!Ft.isFunction(n.onClick)?"none":"auto"}).on("click",function(){return Ya(n,e,i)})},qa=function(t,n,e,i,a,r){var o=a.selectAll("g").data(r.map(function(t){return ja(e,i,Ft.deepClone(t))}));o.enter().append("g").classed(Wt.task,!0).attr("aria-selected",!1).attr("aria-describedby",function(t){return t.key}).each(function(e,i){e.percentage?Ka(n,e,i,this):e.isHashed?function(t,n,e,i,a){var r=za(n,e,a);Wa(r),ri(t,t.select("defs"),r.path,r.x,r.y,r.width,r.height,e.style).attr("aria-disabled",!Ft.isFunction(e.onClick)).attr("pointer-events",function(){return e.clickPassThrough&&!Ft.isFunction(e.onClick)?"none":"auto"}).on("click",function(){return Ya(e,i,a)})}(t,n,e,i,this):Ja(n,e,i,this)}),o.exit().transition().call(St.d3Transition).remove()};var Qa=function(t,n){return t.selectAll(".".concat(Wt.axisYTrackLabel," .tick text")).each(function(t){var e=this;t&&Ft.isFunction(n.onClick)&&function(t,n){return mt.a.select(t).datum()===n}(this,n.display)&&(Ft.isEmpty(mt.a.select(this).attr("aria-disabled"))&&mt.a.select(this).attr("aria-disabled",!Ft.isFunction(n.onClick)),mt.a.select(this).on("click",function(){n.onClick(n.display,mt.a.select(e))}))})},Za=function(t){return Ft.deepClone(t)},$a=function(t){function n(n){var e;return(e=t.call(this)||this).config=Za(n),e.trackGroupPath=null,e}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);var e=n.prototype;return e.load=function(t){if(!function(t,n){return 0>t.indexOf(n)}(t.tracks,this.config.key))throw new Error(x);return this.trackGroupPath=yr(t.config,t.svg,this.config),ar(t.config,this.config,!0),ka(t,this.trackGroupPath,this.config),Ft.notEmpty(this.config.activities)&&function(t,n,e,i){var a=n.append("g").classed(Wt.activityGroup,!0).attr("transform","translate(".concat(Fn(t.config),",").concat(sr(t.config),")"));i.forEach(function(t){da(t)}),ba(t.svg,t.scale,t.config,e,a,i)}(t,this.trackGroupPath,this.config.trackLabel,this.config.activities),Ft.notEmpty(this.config.tasks)&&function(t,n,e,i){var a=n.append("g").classed(Wt.taskGroup,!0).attr("transform","translate(".concat(Fn(t.config),",").concat(sr(t.config),")"));i.forEach(function(t){ua(t)}),qa(t.svg,t.scale,t.config,e,a,i)}(t,this.trackGroupPath,this.config.trackLabel,this.config.tasks),Ft.notEmpty(this.config.events)&&Ba(t,this.trackGroupPath,this.config.trackLabel,this.config.events),Ft.notEmpty(this.config.actions)&&kr(t,this.trackGroupPath,this.config.trackLabel,this.config.actions),this},e.unload=function(t){return ar(t.config,this.config),function(t,n){n.select("g.".concat(Wt.ganttTrackSelectorGroup)).remove()}(0,this.trackGroupPath),Ft.notEmpty(this.config.activities)&&function(t,n){n.select("g.".concat(Wt.activityGroup)).remove()}(0,this.trackGroupPath),Ft.notEmpty(this.config.tasks)&&function(t,n){n.select("g.".concat(Wt.taskGroup)).remove()}(0,this.trackGroupPath),Ft.notEmpty(this.config.events)&&function(t,n){n.selectAll("g.".concat(Wt.currentPointsGroup)).remove()}(0,this.trackGroupPath),Ft.notEmpty(this.config.actions)&&Lr(t,this.trackGroupPath),xr(t.svg,this.config.key),this.config={},this},e.resize=function(t){return Ga(),Ft.notEmpty(this.trackGroupPath)&&function(t,n,e,i){e.select(".".concat(Wt.ganttTrackSelectorGroup)).select("rect").each(function(){var e=mt.a.select(this),a=Sa(n,t,e,i);e.transition().call(St.d3Transition).attr("y",a.y).attr("width",a.width).attr("height",a.height)})}(t.scale,t.config,this.trackGroupPath,this.config),Ft.notEmpty(this.config.activities)&&Xa(t.scale,t.config,this.trackGroupPath),Ft.notEmpty(this.config.tasks)&&Ua(t.scale,t.config,this.trackGroupPath),(Ft.notEmpty(this.config.actions)||Ft.notEmpty(this.config.events))&&function(t,n,e){Fa(t,n,e,".".concat(Wt.point)),Fa(t,n,e,".".concat(Wt.dataPointSelection))}(t.scale,t.config,this.trackGroupPath),this},e.redraw=function(t){return Qa(t.svg,this.config.trackLabel),this},n}(zt);function tr(t){return function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var nr=function(t){return Ft.isEmpty(t.axis.y.trackList)?0:parseInt(fr(t.axis.y.trackList).pop(),10)},er=function(t){var n=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];return n?t.axis.y.trackCount++:t.axis.y.trackCount--},ir=function(t,n,e){var i=Object.keys(e).map(function(t){return[t,e[t]]});i.splice(n,0,[t.key,{trackHeight:t.dimension?t.dimension.trackHeight:St.DEFAULT_GANTT_TRACK_HEIGHT,trackLabel:t.trackLabel.display}]);var a={};return i.forEach(function(t){a[t[0]]=t[1]}),a},ar=function(t,n){var e=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];er(t,e),e||delete t.axis.y.trackList[n.key]},rr=function(t){return t.axis.y.domain={lowerLimit:0,upperLimit:t.axis.y.trackCount||1},t},or=function(t,n){if(n.padding.hasCustomPadding)return n.padding.left;var e=mt.a.scale.ordinal().domain(dr(n.axis.y.trackList)).range([0].concat(tr(fr(n.axis.y.trackList)))),i=mt.a.svg.axis().scale(e).orient(It.Y.LEFT),a=mt.a.select("body").append("div"),r=a.append("svg").append("g").call(i).node().getBoundingClientRect().width;return a.remove(),r},cr=function(t){return t.canvasWidth-t.axisSizes.y-t.axisLabelWidths.y-sr(t)},sr=function(t){return 2*(t.padding.top+t.padding.bottom)},lr=function(t){return sr(t)},ur=function(t,n,e){return t.x=Sn(n.x,e.axis.x.ticks.values,cr(e),An(e.locale,e.axis.x.ticks.format,e.axis.x.type),It.X.TOP),t.y=function(t,n){return mt.a.svg.axis().scale(t).orient(It.Y.LEFT).ticks(n/St.DEFAULT_Y_AXIS_SPACING).tickPadding(8)}(n.y,zn(e)),t},dr=function(t){return Ft.isEmpty(t)?[]:Object.keys(t).map(function(n){return t[n].trackLabel})},fr=function(t){return Object.keys(t).map(function(n){return t[n].trackHeight}).map(function(t,n,e){return 0<n?t+e.slice(0,n).reduce(function(t,n){return t+n},0):t})},hr=function(t,n){t.x=mt.a.time.scale().domain(n.axis.x.domain).range([0,cr(n)]).clamp(!0),t.y=mt.a.scale.ordinal().domain(dr(n.axis.y.trackList)).range([0].concat(tr(fr(n.axis.y.trackList)))),n.axis.x.rangeRounding&&t.x.nice()},pr=function(t,n,e,i){t.append("g").classed(e,!0).call(Oa(n,i))},gr=function(t,n,e,i){if(function(t){if(Ft.isEmpty(t))throw new Error(p);if(Ft.isEmpty(t.key))throw new Error(x);if(Ft.isEmpty(t.trackLabel)||Ft.isEmpty(t.trackLabel.display))throw new Error(T)}(e),Ft.notEmpty(e)&&Ft.notEmpty(e.loadAtIndex)){if(0>e.loadAtIndex)throw new Error(P);var a=e.loadAtIndex;return n.axis.y.trackList=ir(e,a,n.axis.y.trackList),hr(t,n),a}return n.axis.y.trackList=ir(e,i,n.axis.y.trackList),i},yr=function(t,n,e){return n.select(".".concat(Wt.ganttChartContent)).append("g").classed(Wt.trackGroup,!0).attr("aria-labelledby",e.trackLabel.display).attr("aria-describedby",e.key)},xr=function(t,n){return t.select('g[aria-describedby="'.concat(n,'"]')).remove()},Tr=function(t){return!Ft.isEmpty(t)&&t.isHashed},Er=function(t,n,e,i,a){var r=e.append("g").classed(Wt.currentPointsGroup,!0).attr("transform","translate(".concat(Fn(n),", ").concat(sr(n),")")).selectAll(".".concat(Wt.point)).data(i);a(t,n,r.enter()),r.exit().transition().call(St.d3Transition).remove()},mr=function(t,n,e,i,a){return e.append(function(){return new en(ha(bt.CIRCLE,St.DEFAULT_PLOT_SELECTION_SCALE)).getShapeElement(Kt({svgClassNames:Wt.dataPointSelection,svgStyles:"",transformFn:Ha(t,n)(i),onClickFn:function(){vr(i,a,this)},a11yAttributes:{"aria-hidden":!0,"aria-describedby":i.key,"aria-disabled":!Ft.isFunction(i.onClick)}}))})},vr=function(t,n,e){Ft.isEmpty(t.onClick)||br(e).call(function(e){return t.onClick(function(){return e.attr("aria-hidden",!0)},t.key,n,t,e)})},br=function(t){var n=mt.a.select(t.parentNode).select(".".concat(Wt.dataPointSelection));return n.attr("aria-hidden","true"!==n.attr("aria-hidden")),n},Ar=function(t,n,e){return function(t,i){Ze(t),function(t,n){var e=t.indexOf(n);-1<e?t.splice(e,1):t.push(n)}(n.shownTargets,i),e.selectAll(".".concat(Wt.point,'[aria-describedby="').concat(i.key,'"]')).attr("aria-hidden",function(){return"true"!==mt.a.select(this).attr("aria-hidden")})}},_r=function(t,n){return function(e,i){$e(t,n,e.key,i,[function(t,n,e,a,r){return n.selectAll(".".concat(Wt.point,'[aria-describedby="').concat(r,'"]')).classed(Wt.blur,i===St.HOVER_EVENT.MOUSE_ENTER)}])}},Ir=function(t){return function(t){if(Ft.isEmpty(t))throw new Error(p);if(Ft.isEmpty(t.key))throw new Error(x);if(Ft.isEmpty(t.values))throw new Error(g)}(t),Ft.deepClone(t)},Sr=function(t,n){return 0>t.indexOf(n.key)||null===n.y},wr=function(t,n,e){return e.append("g").classed(Wt.pointGroup,!0).each(function(e,i){var a=mt.a.select(this);mr(t,n,a,e,i),function(t,n,e,i,a){e.append(function(){return new en(De(i)).getShapeElement(Kt({svgClassNames:Wt.point,svgStyles:"fill: ".concat(Oe(i),";"),transformFn:Ha(t,n)(i),onClickFn:function(){vr(i,a,this)},a11yAttributes:{"aria-hidden":Sr(n.shownTargets,i),"aria-describedby":i.key,"aria-disabled":!Ft.isFunction(i.onClick)},additionalAttributes:{"pointer-events":i.clickPassThrough&&!Ft.isFunction(i.onClick)}}))})}(t,n,a,e,i)})},kr=function(t,n,e,i){return i.forEach(function(i){Er(t.scale,t.config,n,function(t,n,e){var i=function(t){if(!Ft.isDate(t))throw new Error(I);return Ft.parseDateTime(t)},a=function(t,n){var e=t.filter(function(t){return t.key===n});if(!e.length)throw new Error(nt);return e[0]}(t.actionLegend,e.key);return e.values.map(function(r){return{key:e.key,onClick:e.onClick,x:i(r),y:n.display,label:a.label,color:a.color||St.DEFAULT_COLOR,shape:a.shape||bt.CIRCLE,clickPassThrough:!!Ft.isDefined(t.clickPassThrough)&&t.clickPassThrough.actions}})}(t.config,e,Ir(i)),wr)})},Lr=function(t,n){return n.selectAll("g.".concat(Wt.currentPointsGroup)).remove()};var Cr=St.BASE_CANVAS_WIDTH_PADDING,Dr=function(t,n){n.canvasWidth=parseInt(t.style("width"),10)},Or=function(t){return t.canvasHeight=zn(t)+2*(2*t.padding.bottom+t.padding.top)},Rr=function(t){return t.graphContainer=null,t.config={axis:{x:{},y:{}},shownTargets:{},actionLegend:[],dateline:[]},t.axis={},t.scale={},t.svg=null,t.legendSVG=null,t.tracks=[],t.trackConfig=[],t.resizeHandler=null,t},Nr=function(t){return Dr(t.graphContainer,t.config),function(t){t.axisSizes={},t.axisSizes.x=Wn(t),t.axisSizes.y=or(St.Y_AXIS,t)}(t.config),function(t){t.axisLabelWidths={},t.axisLabelWidths.y=t.padding.left}(t.config),Or(t.config),hr(t.scale,t.config),t},Pr=function(t){function n(n){var e;return e=t.call(this)||this,Rr(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)),e.generate(n),e}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);var e=n.prototype;return e.generate=function(t){var n=this;this.config=function(t){return(new la).setInput(t).validateInput().clone().getConfig()}(t),sa(t,this.config),function(t){t.graphContainer=mt.a.select(t.config.bindTo),rr(t.config),t.config.height=nr(t.config)}(this),Nr(this);var e=mt.a.select(this.config.bindTo).append("div").classed(Wt.container,!0);return this.svg=e.insert("svg",":first-child").classed(Wt.canvas,!0).attr("role","img").attr("height",this.config.canvasHeight).attr("width",this.config.padding.hasCustomPadding?this.config.canvasWidth:this.config.canvasWidth-Cr),function(t,n){n.append("defs").append("clipPath").attr("id",t.clipPathId).append("rect").attr(St.X_AXIS,Fn(t)).attr(St.Y_AXIS,lr(t)).attr("width",cr(t)).attr("height",zn(t))}(this.config,this.svg),function(t,n,e,i){ur(t,n,e);var a=i.append("g").classed(Wt.grid,!0).attr("transform","translate(".concat(Fn(e),",").concat(sr(e),")"));a.append("g").classed(Wt.gridH,!0).call(Ra(t,e)),yn(a,t,e,pr)}(this.axis,this.scale,this.config,this.svg),function(t,n){n.append("rect").classed(Wt.contentContainer,!0).attr(St.X_AXIS,Fn(t)).attr(St.Y_AXIS,sr(t)).attr("width",cr(t)).attr("height",zn(t))}(this.config,this.svg),function(t,n,e,i){ur(t,n,e),xn(n,t,e,kn,It.X.TOP),i.append("g").classed(Wt.axis,!0).classed(Wt.axisX,!0).attr("aria-hidden",!e.axis.x.show).attr("transform","translate(".concat(Fn(e),", ").concat(sr(e),")")).call(t.x),i.append("g").classed(Wt.axis,!0).classed(Wt.axisY,!0).classed(Wt.axisYTrackLabel,!0).attr("aria-hidden",!e.axis.y.show).attr("transform","translate(".concat(Xn(e),",").concat(sr(e),")")).call(t.y)}(this.axis,this.scale,this.config,this.svg),function(t,n){n.append("g").classed(Wt.ganttChartContent,!0).attr("clip-path","url(#".concat(t.clipPathId,")"))}(this.config,this.svg),Ft.notEmpty(this.config.dateline)&&ye(this.scale,this.config,this.svg),this.config.showActionLegend&&(this.legendSVG=Qe(this.config.bindLegendTo?mt.a.select(this.config.bindLegendTo):e),this.config.shownTargets=this.config.actionLegend.map(function(t){return t.key}),this.config.actionLegend.forEach(function(t){return function(t,n,e,i){e.label&&e.label.display&&i&&Je(i,e,t.shownTargets,n)}(n.config,function(t,n,e,i){return{clickHandler:Ar(0,n,e),hoverHandler:_r(i,e)}}(0,n.config,n.svg,n.config.shownTargets),t,n.legendSVG)})),Re(this),this.svg},e.resize=function(){var t=this;if(this.graphContainer)return Dr(this.graphContainer,this.config),hr(this.scale,this.config),Ma(this),this.trackConfig.forEach(function(n){return n.resize(t)}),Pa(this.scale,this.config,this.svg),this},e.loadContent=function(t){var n=this;return ca(t,function(t){var e=gr(n.scale,n.config,t,n.tracks.length),i=function(t){return new $a(t)}(t);n.trackConfig.splice(e,0,i),i.load(n),n.tracks.splice(e,0,t.key)}),rr(this.config),this.config.height=nr(this.config),Or(this.config),this.resize(),this.trackConfig.forEach(function(t){return t.redraw(n)}),this},e.unloadContent=function(t){var n=this;return function(t,n){Ft.isArray(t)?t.forEach(function(t){return n(t)}):n(t)}(t,function(t){var e=n.tracks.indexOf(t.key);if(0>e)throw new Error(S);n.trackConfig[e].unload(n),n.tracks.splice(e,1),n.trackConfig.splice(e,1)}),rr(this.config),this.config.height=nr(this.config),Or(this.config),this.resize(),this},e.destroy=function(){return Ne(this),this.graphContainer.select(".".concat(Wt.canvas)).remove(),this.graphContainer.select(".".concat(Wt.container)).remove(),Rr(this),this},n}(oa);var Gr={ticks:{},show:!1,domain:{lowerLimit:0,upperLimit:0}},Hr=function(t,n,e){var i=Ft.deepClone(t.axis),a=function(t,n,e){var i=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];return t.axis[n].ticks=Ut(e[n].ticks,{}),t.axis[n].show=Ut(e[n].show,i),t.axis[n].domain={lowerLimit:Ft.getNumber(e[n].lowerLimit),upperLimit:Ft.getNumber(e[n].upperLimit)},t.axis[n].rangeRounding=Ut(e[n].rangeRounding,!0),t};return n.clipPathId=Vt(),n.bindTo=t.bindTo,n.bindLegendTo=t.bindLegendTo,n.axis=i,n.dateline=Ut(Ft.deepClone(t.dateline),[]),n.padding=function(t,n){return Ft.isDefined(t.padding)?{top:Ut(n.top,St.PADDING.top),bottom:Ut(n.bottom,St.PADDING.bottom),right:Ut(n.right,St.PADDING.right),left:Ut(n.left,St.PADDING.left),hasCustomPadding:!0}:{top:St.PADDING.top,bottom:St.PADDING.bottom,right:St.PADDING.right,left:St.PADDING.left,hasCustomPadding:!1}}(n,t.padding),n.locale=mt.a.locale(Ut(t.locale,rn)),n.throttle=Ut(t.throttle,St.RESIZE_THROTTLE),n.showLabel=Ut(t.showLabel,!0),n.showLegend=Ut(t.showLegend,!0),n.showShapes=Ut(t.showShapes,!0),n.showHGrid=Ut(t.showHGrid,!0),n.showVGrid=Ut(t.showVGrid,!0),n.dimension=Ut(t.dimension,{}),n.axis.x.type=Ut(i.x.type,At.DEFAULT),n.axis.x.ticks=Ut(i.x.ticks,{}),n.axis.x.show=Ut(i.x.show,!0),n.axis.x.orientation=Ut(i.x.orientation,It.X.BOTTOM),n.axis.x.domain=Yt(e,i.x.lowerLimit,i.x.upperLimit),n.axis.x.rangeRounding=Ut(i.x.rangeRounding,!0),t.axis.y?a(n,St.Y_AXIS,i,!0):n.axis.y=Gr,t.axis.y2?a(n,St.Y2_AXIS,i):n.axis.y2=Gr,n.shownTargets=[],n.hasCriticality=!1,n.axisPadding={y:Ut(i.y.padDomain,!0),y2:Ut(i.y2.padDomain,!0)},n.axisInfoRowLabelHeight=0,n},Fr=function(t,n){return!Ft.hasValue(t.map(function(t){return t.config.key}),n)},Mr=function(t){function n(){var n;return(n=t.call(this)||this).config=null,n.input=null,n}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);var e=n.prototype;return e.getConfig=function(){return this.config},e.setInput=function(t){return this.input=t,this},e.validateInput=function(){if(Ft.isEmpty(this.input))throw new Error(h);if(Ft.isEmpty(this.input.bindTo))throw new Error(f);if(Ft.isEmpty(this.input.axis)||Ft.isEmpty(this.input.axis.x)||Ft.isEmpty(this.input.axis.y))throw new Error(m);if(Ft.notEmpty(this.input.axis.x.type)&&!Ft.hasValue(Object.values(At),this.input.axis.x.type))throw new Error(A);if(Ft.isEmpty(this.input.axis.x.lowerLimit)||Ft.isEmpty(this.input.axis.x.upperLimit)||Ft.isEmpty(this.input.axis.y.lowerLimit)||Ft.isEmpty(this.input.axis.y.upperLimit))throw new Error(v);if(Ft.isEmpty(this.input.axis.y.label))throw new Error(b);if(oe(this.input.axis)){if(Ft.isEmpty(this.input.axis.y2.lowerLimit)||Ft.isEmpty(this.input.axis.y2.upperLimit))throw new Error(v);if(Ft.isEmpty(this.input.axis.y2.label))throw new Error(b)}if(Ft.notEmpty(this.input.dateline)&&this.input.axis.x.type!==At.TIME_SERIES)throw new Error(A);return Ft.notEmpty(this.input.dateline)&&this.input.axis.x.type===At.TIME_SERIES&&this.input.dateline.forEach(function(t){xe(t)}),this},e.clone=function(){return this.config=Ft.deepClone(this.input),this},n}(Tt);var Ur=St.BASE_CANVAS_WIDTH_PADDING,Xr=function(t,n){n.canvasWidth=parseInt(t.style("width"),10)},Vr=function(t){return t.graphContainer=null,t.config={axis:{x:{},y:{},y2:{}},shownTargets:{},dateline:[]},t.axis={axisInfoRow:{x:{}}},t.scale={},t.svg=null,t.legendSVG=null,t.axesLabelShapeGroup={},t.content=[],t.contentTargets=[],t.resizeHandler=null,t},Br=function(t){return t.config.height=function(t,n){if(n.height)return n.height;var e=t.padding.top+t.padding.bottom,i=(me-e)/2;return i*t.outlierStretchFactor.upperLimit+i*t.outlierStretchFactor.lowerLimit}(t.config,t.config.dimension),Xr(t.graphContainer,t.config),te(t.config),function(t){t.axisLabelHeights={},t.axisLabelWidths={},t.axisLabelHeights.x=0,t.axisLabelWidths.y=0,t.axisLabelWidths.y2=0,t.axisInfoRowLabelHeight=0,t.showLabel&&(t.axis.x.label&&(t.axisLabelHeights.x=Qn(t.axis.x.label)),t.axis.y.label&&(t.axisLabelWidths.y=qn(t.axis.y.label,St.Y_AXIS)),oe(t.axis)&&t.axis.y2.label&&(t.axisLabelWidths.y2=oe(t.axis)?qn(t.axis.y2.label,St.Y2_AXIS):0))}(t.config),function(t){t.canvasHeight=zn(t)+2*(t.padding.bottom+t.padding.top+t.axisLabelHeights.x)}(t.config),ke(t.scale,t.config),t},Yr=function(t){function n(n){var e;return e=t.call(this)||this,Vr(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)),e.generate(n),e}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);var e=n.prototype;return e.generate=function(t){this.config=function(t){return(new Mr).setInput(t).validateInput().clone().getConfig()}(t),Hr(t,this.config,this.config.axis.x.type),function(t){t.graphContainer=mt.a.select(t.config.bindTo),se({},"",t.config),Se(t.config)}(this),Br(this);var n=mt.a.select(this.config.bindTo).append("div").classed(Wt.container,!0);return this.svg=n.insert("svg",":first-child").classed(Wt.canvas,!0).attr("role","img").attr("height",this.config.canvasHeight).attr("width",this.config.padding.hasCustomPadding?this.config.canvasWidth:this.config.canvasWidth-Ur),function(t,n){n.append("defs").append("clipPath").attr("id",t.clipPathId).append("rect").attr(St.X_AXIS,Fn(t)).attr(St.Y_AXIS,Hn(t)).attr("width",jn(t)).attr("height",t.height)}(this.config,this.svg),function(t,n){n.append("g").classed(Wt.regionGroup,!0)}(this.config,this.svg),function(t,n,e,i){bn(t,n,e);var a=i.append("g").classed(Wt.grid,!0).attr("transform","translate(".concat(Fn(e),",").concat(Hn(e),")"));e.showHGrid&&a.append("g").classed(Wt.gridH,!0).call(Ae(t,e)),e.showVGrid&&yn(a,t,e,we)}(this.axis,this.scale,this.config,this.svg),function(t,n){n.append("rect").classed(Wt.contentContainer,!0).attr(St.X_AXIS,Fn(t)).attr(St.Y_AXIS,Hn(t))}(this.config,this.svg),function(t,n,e,i){bn(t,n,e),xn(n,t,e,kn),i.append("g").classed(Wt.axis,!0).classed(Wt.axisX,!0).attr("aria-hidden",!e.axis.x.show).attr("transform","translate(".concat(Fn(e),", ").concat(Un(e),")")).call(t.x),i.append("g").classed(Wt.axis,!0).classed(Wt.axisY,!0).attr("aria-hidden",!e.axis.y.show).attr("transform","translate(".concat(Xn(e),", ").concat(Vn(e),")")).call(t.y),oe(e.axis)&&i.append("g").classed(Wt.axis,!0).classed(Wt.axisY2,!0).attr("transform","translate(".concat(Bn(e),", ").concat(Yn(e),")")).call(t.y2)}(this.axis,this.scale,this.config,this.svg),function(t,n,e,i){bn(t,n,e),i.append("g").classed(Wt.axis,!0).classed(Wt.axisInfoRow,!0).attr("aria-hidden",!0).attr("transform","translate(".concat(Fn(e),", ").concat(Mn(e),")")).call(t.axisInfoRow.x)}(this.axis,this.scale,this.config,this.svg),function(t,n,e){if(t.showLabel){if(t.axis.x.label){var i=n.append("g").classed(Wt.axisLabelX,!0).attr("transform","translate(".concat(On(t),",").concat(Rn(t),") rotate(").concat(Dn(St.X_AXIS),")"));re(i,Ft.sanitize(t.axis.x.label))}if(t.axis.y.label){var a=n.append("g").classed(Wt.axisLabelY,!0).attr("transform","translate(".concat(Nn(t),", ").concat(Pn(t),") rotate(").concat(Dn(St.Y_AXIS),")"));re(a,Ft.sanitize(t.axis.y.label))}if(oe(t.axis)){var r,o=n.append("g").classed(Wt.axisLabelY2,!0).attr("transform","translate(".concat(Gn(t),", ").concat(Pn(t),") rotate(").concat(Dn(St.Y2_AXIS),")"));re(o,Ft.sanitize(t.axis.y2.label)),e.axesLabelShapeGroup=(Te(r={},St.Y_AXIS,Xe(t,n)),Te(r,St.Y2_AXIS,Ve(t,n)),r)}}}(this.config,this.svg,this),function(t,n,e,i){var a="translate(".concat(Xn(e),", ").concat(Vn(e),")"),r=function(t,e){return t.classed(Wt.axisReferenceLine,!0).attr("aria-hidden",!En(n,e)).attr("transform",a).attr("d",vn(n,e)(mn(n)))};r(i.append("path"),St.Y_AXIS).classed(Wt.axis,!0).classed(Wt.axisY,!0),oe(e.axis)&&r(i.append("path"),St.Y2_AXIS).classed(Wt.axis,!0).classed(Wt.axisY2,!0)}(this.axis,this.scale,this.config,this.svg),Ft.notEmpty(this.config.dateline)&&this.config.axis.x.type===At.TIME_SERIES&&ye(this.scale,this.config,this.svg),this.config.showLegend&&(this.legendSVG=Qe(this.config.bindLegendTo?mt.a.select(this.config.bindLegendTo):n)),Re(this),this.svg},e.resize=function(){var t=this;return Xr(this.graphContainer,this.config),ke(this.scale,this.config),Le(this),this.content.forEach(function(n){return n.resize(t)}),this},e.loadContent=function(t){return function(t,n){if(Ft.isEmpty(n))throw new Error(p);if(!Fr(t,n.config.key))throw new Error(y)}(this.content,t),this.content.push(t),this.contentTargets.push(t.config),function(t,n){var e=n.config,i=e.yAxis?e.yAxis:St.Y_AXIS;Ft.notEmpty(e.axisPadding)&&(t[i]=e.axisPadding)}(this.config.axisPadding,t),se(t,t.config.yAxis,this.config,this.content),function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:St.Y_AXIS;return t.axis[n].dataRange.isRangeModified}(this.config,t.config.yAxis)&&Se(this.config,t),t.load(this),Ft.notEmpty(this.config.dateline)&&this.config.axis.x.type===At.TIME_SERIES&&function(t,n,e){e.select(".".concat(Wt.datelineContent)).empty()||(e.select(".".concat(Wt.datelineContent)).remove(),ye(t,n,e))}(this.scale,this.config,this.svg),this.resize(),this},e.unloadContent=function(t){var n=this.content.indexOf(t);if(0>n)throw new Error(S);return this.content.splice(n,1),this.contentTargets.splice(n,1),t.unload(this),this.resize(),this},e.destroy=function(){return Ne(this),Pe(this.graphContainer,".".concat(Wt.canvas)),Pe(this.graphContainer,".".concat(Wt.container)),Vr(this),this},n}(oa),jr=function(t,n){return mt.a.svg.line().defined(function(t){return null!==t.y}).x(function(n){return t.x(n.x)}).y(function(n){return t[n.yAxis](n.y)}).interpolate(n.interpolationType)(Zr(n))},zr=function(t){return function(n){return function(e){return"translate(".concat(function(n){return t.x(n.x)}(n),",").concat(function(n){return t[n.yAxis](n.y)}(n),") scale(").concat(e,")")}}},Wr=function(t,n,e){return n.selectAll(".".concat(Wt.lineGraphContent," .").concat(e)).each(function(n){mt.a.select(this).selectAll("path").transition().call(St.d3Transition).attr("transform",function(){return zr(t)(n)(he(this))})})},Kr=function(t,n,e){Ft.isEmpty(t.onClick)||function(t){var n=mt.a.select(t.parentNode).select(".".concat(Wt.dataPointSelection));return n.attr("aria-hidden","true"!==n.attr("aria-hidden")),n}(e).call(function(e){return t.onClick(function(){e.attr("aria-hidden",!0)},t.key,n,t,e)})},Jr=function(t,n){(function(t,n){n.selectAll(".".concat(Wt.lineGraphContent," .").concat(Wt.line)).select("path").transition().call(St.d3Transition).attr("d",function(n){return jr(t,n)})})(t,n),Wr(t,n,Wt.point),Wr(t,n,Wt.dataPointSelection)},qr=function(t,n,e,i){var a=e.append("g").classed(Wt.lineGraphContent,!0).attr("clip-path","url(#".concat(n.clipPathId,")")).attr("aria-hidden",0>n.shownTargets.indexOf(i.key)).attr("aria-describedby",i.key),r=a.append("g").classed(Wt.currentLinesGroup,!0).attr("transform","translate(".concat(Fn(n),",").concat(Hn(n),")")).selectAll(".".concat(Wt.line)).data([i]);if(to(t,n,r.enter()),r.exit().transition().call(St.d3Transition).remove(),n.showShapes){var o=a.selectAll(".".concat(Wt.currentPointsGroup)).data([i]);o.enter().append("g").classed(Wt.currentPointsGroup,!0).attr("transform","translate(".concat(Fn(n),",").concat(Hn(n),")")),o.exit().transition().call(St.d3Transition).remove();var c=a.select(".".concat(Wt.currentPointsGroup)).selectAll(".".concat(Wt.point)).data(Zr);no(t,n,c.enter()),c.exit().transition().call(St.d3Transition).remove()}},Qr=function(t,n){var e=t.axis.x.type,i=function(t){if(!le(t,e))throw new Error(I);return jt(t,e)};return n.interpolationType=function(t){return Ut(t,_t.LINEAR)}(n.type),t.shownTargets.push(n.key),n.internalValuesSubset=n.values.map(function(t){return{onClick:n.onClick,isCritical:t.isCritical||!1,x:i(t.x),y:t.y,color:n.color||St.DEFAULT_COLOR,label:n.label||{},shape:n.shape||bt.CIRCLE,yAxis:n.yAxis||St.Y_AXIS,key:n.key}}),n},Zr=function(t){return t.internalValuesSubset},$r=function(t,n){return 0>t.indexOf(n.key)||null===n.y},to=function(t,n,e){return e.append("g").classed(Wt.line,!0).append("path").attr("d",function(n){return jr(t,n)}).attr("style",function(t){return"stroke: ".concat(Oe(t),";")}).attr("aria-hidden",function(t){return $r(n.shownTargets,t)}).attr("aria-describedby",function(t){return t.key})},no=function(t,n,e){var i=function(e,i,a){return e.append(function(){return new en(De(i)).getShapeElement(Kt({svgClassNames:Wt.point,svgStyles:"fill: ".concat(Oe(i),";"),transformFn:zr(t)(i),onClickFn:function(){Kr(i,a,this)},a11yAttributes:{"aria-hidden":$r(n.shownTargets,i),"aria-describedby":i.key,"aria-disabled":!Ft.isFunction(i.onClick)}}))})},a=function(n,e,i){return n.append(function(){return new en(ha(bt.CIRCLE,St.DEFAULT_PLOT_SELECTION_SCALE)).getShapeElement(Kt({svgClassNames:Wt.dataPointSelection,transformFn:zr(t)(e),onClickFn:function(){Kr(e,i,this)},a11yAttributes:{"aria-hidden":!0,"aria-describedby":e.key,"aria-disabled":!Ft.isFunction(e.onClick)}}))})},r=function(e,i,a,r){return e.append(function(){return new en(De(i)).getShapeElement(Kt({svgClassNames:"".concat(Wt.point," ").concat(r),transformFn:zr(t)(i),onClickFn:function(){Kr(i,a,this)},a11yAttributes:{"aria-hidden":$r(n.shownTargets,i),"aria-describedby":i.key,"aria-disabled":!Ft.isFunction(i.onClick)}}))})};e.append("g").classed(Wt.pointGroup,!0).each(function(t,e){var o=mt.a.select(this);a(o,t,e),t.isCritical&&(n.hasCriticality=!0,r(o,t,e,Wt.criticalityOuterPoint),r(o,t,e,Wt.criticalityInnerPoint)),i(o,t,e)})},eo=function(t,n,e,i){return function(a,r){Ze(a),function(t,n){var e=t.indexOf(n.key);-1<e?t.splice(e,1):t.push(n.key)}(e.shownTargets,r),i.selectAll('path[aria-describedby="'.concat(r.key,'"]')).attr("aria-hidden",!0),i.selectAll(".".concat(Wt.point,'[aria-describedby="').concat(r.key,'"]')).attr("aria-hidden",!0),window.requestAnimationFrame(function(t,n,e,i){return function(){n.redraw(t),yi(e.shownTargets,i)}}(t,n,e,i))}},io=function(t,n){return function(e,i){$e(t,n,e.key,i,[function(t,n,e,a,r){n.selectAll(".".concat(Wt.point,'[aria-describedby="').concat(r,'"]')).classed(Wt.blur,i===St.HOVER_EVENT.MOUSE_ENTER)}]),n.selectAll('path[aria-describedby="'.concat(e.key,'"]')).classed(Wt.highlight,i===St.HOVER_EVENT.MOUSE_ENTER),n.selectAll('svg[aria-describedby="'.concat(e.key,'"]')).classed(Wt.highlight,i===St.HOVER_EVENT.MOUSE_ENTER),xi(t,n,e.key,i)}},ao=function(t,n){return Pe(t,'g[aria-describedby="'.concat(n.key,'"]'))};var ro=function(t){function n(){var n;return(n=t.call(this)||this).config=null,n.input=null,n}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);var e=n.prototype;return e.getConfig=function(){return this.config},e.setInput=function(t){return this.input=t,this},e.validateInput=function(){return Mt(this.input),this},e.clone=function(){return this.config=Ft.deepClone(this.input),this},n}(Tt);function oo(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function co(t){return function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var so=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:St.Y_AXIS,e=t.filter(function(t){return null!==t.y}).map(function(t){return t.y});return oo({},n,{min:Math.min.apply(Math,co(e)),max:Math.max.apply(Math,co(e))})},lo=function(t){return(new ro).setInput(t).validateInput().clone().getConfig()},uo=function(t){function n(n){var e;return(e=t.call(this)||this).config=lo(n),e.config.yAxis=Ut(e.config.yAxis,St.Y_AXIS),e.valuesRange=so(e.config.values,e.config.yAxis),e.dataTarget={},e}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);var e=n.prototype;return e.load=function(t){return this.dataTarget=Qr(t.config,this.config),qr(t.scale,t.config,t.svg,this.dataTarget),Ft.notEmpty(this.dataTarget.regions)&&li(t.scale,t.config,t.svg.select(".".concat(Wt.regionGroup)),this.dataTarget.regions,"region_".concat(this.dataTarget.key),this.config.yAxis),function(t,n,e,i){e.label&&e.label.display&&i&&Je(i,e,t.shownTargets,n)}(t.config,{clickHandler:eo(t,this,t.config,t.svg),hoverHandler:io(t.config.shownTargets,t.svg)},this.dataTarget,t.legendSVG),Ye(t.config,this.dataTarget,t.axesLabelShapeGroup[this.config.yAxis]),this},e.unload=function(t){return ao(t.svg,this.dataTarget),si(t.svg.select(".".concat(Wt.regionGroup)),this.dataTarget),qe(t.legendSVG,this.dataTarget),je(t.axesLabelShapeGroup[this.config.yAxis],this.dataTarget),this.dataTarget={},this.config={},this},e.resize=function(t){return function(t,n){return Ft.notEmpty(t)&&1<n.length}(this.dataTarget.regions,t.config.shownTargets)&&gi(t.svg),hi(t.scale,t.config,t.svg.select(".".concat(Wt.regionGroup))),Jr(t.scale,t.svg),this},e.redraw=function(t){return ao(t.svg,this.dataTarget),qr(t.scale,t.config,t.svg,this.dataTarget),this},n}(zt),fo=function(t){return t.high?t.high:t.low?t.low:t.mid},ho=function(t,n,e){var i=mt.a.select(e);i.select("path").classed(Wt.dataPointDisplayEnable,function(){return!mt.a.select(this).classed(Wt.dataPointDisplayEnable)}),i.selectAll("svg").classed(Wt.dataPointDisplayEnable,function(){return!mt.a.select(this).classed(Wt.dataPointDisplayEnable)});var a=i.select("rect");a.classed(Wt.dataPointDisplayEnable,!a.classed(Wt.dataPointDisplayEnable))},po=function(t,n){return!(!n.high||!n.low)&&function(t,n){return 0>t.shownTargets.indexOf(n.high.key)||0>t.shownTargets.indexOf(n.low.key)}(t,n)||function(t,n){return 0>t.shownTargets.indexOf(fo(n).key)}(t,n)},go=function(t,n,e,i){Ft.isEmpty(n.onClick)||function(t,n,e){var i=mt.a.select(e),a=i.select(".".concat(Wt.dataPointSelection));return i.attr("aria-selected","true"!==i.attr("aria-selected")),a.attr("aria-hidden","true"!==a.attr("aria-hidden")),po(t,n)&&ho(0,0,e),a}(t,n,i).call(function(i){return n.onClick(function(){var e=i.node().parentNode;mt.a.select(e).attr("aria-selected",!1),i.attr("aria-hidden",!0),po(t,n)&&ho(0,0,e)},n.key,e,n,i)})},yo=function(t,n,e){return t.attr("x",function(t){return n.x(t.high.x)-St.SELECTION_INDICATOR_X_POSITION}).attr("y",function(t){return n[e.yAxis](t.high.y)-St.SELECTION_INDICATOR_Y_POSITION}).attr("width",function(t){return n.x(t.low.x)-n.x(t.high.x)+2*St.SELECTION_INDICATOR_X_POSITION||2*St.SELECTION_INDICATOR_X_POSITION}).attr("height",function(t){return n[e.yAxis](t.low.y)-n[e.yAxis](t.high.y)+2*St.SELECTION_INDICATOR_Y_POSITION})},xo=function(t){return function(n){return function(e){return"translate(".concat(function(n){return t.x(fo(n).x)}(n),",").concat(function(e){return t[n.yAxis](fo(e).y)}(n),") scale(").concat(e,")")}}},To=function(t,n,e){return e.each(function(n){return n.high&&n.low?function(t,n,e,i){return yo(t.append("rect").classed(Wt.dataPointSelection,!0).attr("rx",3).attr("ry",3).attr("aria-hidden",!0).attr("aria-describedby",i.key),n,i)}(mt.a.select(this),t,0,n):function(t,n,e,i){return t.append(function(){return new en(ha(bt.CIRCLE,St.DEFAULT_PLOT_SELECTION_SCALE)).getShapeElement(Kt({svgClassNames:Wt.dataPointSelection,transformFn:xo(n)(i),a11yAttributes:{"aria-hidden":!0,"aria-describedby":i.key}}))})}(mt.a.select(this),t,0,n)})},Eo=function(t,n){return t?t[n]:""},mo=function(t){return St.PAIR_ITEM_TYPES.forEach(t)},vo=function(t,n){return mt.a.svg.line().x(function(n){return t.x(n.x)}).y(function(e){return t[n.yAxis](e.y)}).interpolate(St.DEFAULT_INTERPOLATION)([{x:n.high.x,y:n.high.y},{x:n.low.x,y:n.low.y}])},bo=function(t,n){return function(e){return function(i){return"translate(".concat(function(e){return t.x(Eo(e,n).x)}(e),",").concat(function(e){return t[e.yAxis](Eo(e,n).y)}(e),") scale(").concat(i,")")}}},Ao=function(t,n,e,i){var a=e.append("g").classed(Wt.pairedBoxGroup,!0).attr("clip-path","url(#".concat(n.clipPathId,")")).attr("aria-describedby",i.key).selectAll(".".concat(Wt.pairedBox)).data(_o(i));a.enter().append("g").classed(Wt.pairedBox,!0).attr("aria-selected",!1).attr("transform","translate(".concat(Fn(n),",").concat(Hn(n),")")).call(function(e){To(t,0,e),Io(t,n,e),So(t,n,e)}),a.exit().transition().call(St.d3Transition).remove()},_o=function(t){return t.internalValuesSubset},Io=function(t,n,e){return e.each(function(e,i){return mt.a.select(this).append("path").classed(Wt.pairedLine,!0).attr("aria-describedby",e.key).attr("aria-hidden",function(t){return!function(t){return t.high&&t.low&&Ft.hasValue(n.shownTargets,t.high.key)&&Ft.hasValue(n.shownTargets,t.low.key)}(t)}).attr("aria-disabled",!Ft.isFunction(e.onClick)).attr("d",e.high&&e.low?vo(t,e):"").on("click",function(){go(n,e,i,this.parentNode)})})},So=function(t,n,e){e.each(function(e,i){var a=mt.a.select(this);mo(function(r){if(Ft.isDefined(Eo(e,r))){var o=Eo(e,r),c=a.append("g").classed(Wt.pointGroup,!0);o.isCritical&&(n.hasCriticality=!0,wo(t,n,c,r,e,i)),function(e,i,a,r){e.append(function(){return new en(De(Eo(a,i))).getShapeElement(Kt({svgClassNames:"".concat(Wt.pairedPoint," ").concat(Eo(Wt,i)),svgStyles:"fill: ".concat(Oe(Eo(a,i)),";"),transformFn:bo(t,i)(a),onClickFn:function(){go(n,a,r,this.parentNode.parentNode)},a11yAttributes:{"aria-hidden":0>n.shownTargets.indexOf(Eo(a,i).key),"aria-describedby":Eo(a,i).key,"aria-disabled":!Ft.isFunction(a.onClick)}}))})}(c,r,e,i)}})})},wo=function(t,n,e,i,a,r){var o=function(e,i,a,r,o){return e.append(function(){return new en(De(Eo(a,i))).getShapeElement(Kt({svgClassNames:"".concat(o),transformFn:bo(t,i)(a),onClickFn:function(){go(n,a,r,this.parentNode.parentNode)},a11yAttributes:{"aria-hidden":0>n.shownTargets.indexOf(Eo(a,i).key),"aria-describedby":Eo(a,i).key,"aria-disabled":!Ft.isFunction(a.onClick)}}))})};o(e,i,a,r,"".concat(Wt.pairedPoint," ").concat(Eo(Wt,i)," ").concat(Wt.criticalityOuterPoint)),o(e,i,a,r,"".concat(Wt.pairedPoint," ").concat(Eo(Wt,i)," ").concat(Wt.criticalityInnerPoint))},ko=function(t,n,e){(function(t,n){n.selectAll(".".concat(Wt.pairedBoxGroup," rect.").concat(Wt.dataPointSelection)).transition().call(St.d3Transition).each(function(n){return yo(mt.a.select(this).transition().call(St.d3Transition),t,n)})})(t,e),function(t,n){n.selectAll(".".concat(Wt.pairedBoxGroup," .").concat(Wt.dataPointSelection)).each(function(n){return mt.a.select(this).selectAll("path").transition().call(St.d3Transition).attr("transform",function(){return xo(t)(n)(he(this))})})}(t,e),function(t,n,e){e.selectAll(".".concat(Wt.pairedBoxGroup," .").concat(Wt.pairedLine)).transition().call(St.d3Transition).attr("d",function(n){return n.high&&n.low?vo(t,n):""})}(t,0,e),function(t,n){mo(function(e){n.selectAll(".".concat(Wt.pairedBoxGroup," .").concat(Wt.pairedPoint,".").concat(Eo(Wt,e))).each(function(n){mt.a.select(this).selectAll("path").transition().call(St.d3Transition).attr("transform",function(){return bo(t,e)(n)(he(this))})})})}(t,e)},Lo=function(t,n,e,i){var a=i.key;pi(t.content)?function(t,n,e){t.selectAll(".".concat(Wt.region,'[aria-describedby="').concat(n,'"]')).attr("aria-hidden",!e)}(e,"region_".concat(a),-1<n.shownTargets.indexOf(a)):gi(e)},Co=function(t,n,e,i){return function(a,r){Ze(a),function(t,n){var e=t.indexOf(n.key);-1<e?t.splice(e,1):t.push(n.key)}(e.shownTargets,r),i.selectAll('path[aria-describedby="'.concat(r.key,'"]')).attr("aria-hidden",!0),i.selectAll(".".concat(Wt.pairedPoint,'[aria-describedby="').concat(r.key,'"]')).attr("aria-hidden",!0),window.requestAnimationFrame(function(t,n,e,i,a){return function(){n.redraw(t),Lo(t,e,i,a)}}(t,n,e,i,r))}},Do=function(t,n){return function(e,i){$e(t.shownTargets,n,e.key,i,[function(t,n,e,i,a){n.selectAll(".".concat(Wt.region,'[aria-describedby="region_').concat(a,'"]')).classed(Wt.regionBlur,i===St.HOVER_EVENT.MOUSE_ENTER)}]),n.selectAll('path[aria-describedby="'.concat(e.key,'"]')).classed(Wt.highlight,i===St.HOVER_EVENT.MOUSE_ENTER),n.selectAll(".".concat(Wt.pairedPoint,'[aria-describedby="').concat(e.key,'"]')).classed(Wt.highlight,i===St.HOVER_EVENT.MOUSE_ENTER),xi(t.shownTargets,n,e.key,i)}},Oo=function(t,n,e,i){e.label&&i&&mo(function(a){var r=Eo(e.label,a);r&&r.display&&Je(i,function(t,n){return Object.assign({},{shape:Eo(t.shape,n),color:Eo(t.color,n),label:Eo(t.label,n),key:"".concat(t.key,"_").concat(n)})}(e,a),t.shownTargets,n)})},Ro=function(t,n){return Pe(t,'g[aria-describedby="'.concat(n.key,'"]'))};var No=function(t){function n(){var n;return(n=t.call(this)||this).config=null,n.input=null,n}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);var e=n.prototype;return e.getConfig=function(){return this.config},e.setInput=function(t){return this.input=t,this},e.validateInput=function(){return Mt(this.input),this},e.clone=function(){return this.config=Ft.deepClone(this.input),this},n}(Tt);function Po(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function Go(t){return function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Ho=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:St.Y_AXIS;return Po({},n,{min:Math.min.apply(Math,Go(t.map(function(t){return Math.min.apply(Math,Go(Object.keys(t).map(function(n){return t[n].y})))}))),max:Math.max.apply(Math,Go(t.map(function(t){return Math.max.apply(Math,Go(Object.keys(t).map(function(n){return t[n].y})))})))})},Fo=function(t){return(new No).setInput(t).validateInput().clone().getConfig()},Mo=function(t){function n(n){var e;return(e=t.call(this)||this).config=Fo(n),e.config.yAxis=Ut(e.config.yAxis,St.Y_AXIS),e.valuesRange=Ho(e.config.values,e.config.yAxis),e.dataTarget={},e}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);var e=n.prototype;return e.load=function(t){var n=this;return this.dataTarget=function(t,n){var e=t.axis.x.type,i=function(t){if(!le(t,e))throw new Error(I);return jt(t,e)};return n.internalValuesSubset=n.values.map(function(e){var a={};return mo(function(r){if(Ft.isDefined(Eo(e,r))){var o=Eo(e,r);a[r]={x:i(o.x),y:Ft.getNumber(o.y),isCritical:o.isCritical||!1,color:Eo(n.color,r)||St.DEFAULT_COLOR,label:Eo(n.label,r)||{},shape:Eo(n.shape,r)||bt.CIRCLE,key:"".concat(n.key,"_").concat(r)},Ft.hasValue(t.shownTargets,a[r].key)||t.shownTargets.push(a[r].key)}}),a.yAxis=n.yAxis||St.Y_AXIS,a.onClick=n.onClick,a.key=n.key,a}),n}(t.config,this.config),Ao(t.scale,t.config,t.svg,this.dataTarget),Ft.notEmpty(this.dataTarget.regions)&&function(t,n,e,i){var a=e.select(".".concat(Wt.regionGroup)).append("g").classed(Wt.regionPairGroup,!0).attr("aria-describedby","region_".concat(i.key));a.call(function(){mo(function(e){if(i.regions[e]){if(!Ft.isArray(i.regions[e])||Ft.isUndefined(i.regions[e]))throw new Error(G);li(t,n,a,i.regions[e],"region_".concat(i.key,"_").concat(e),i.yAxis)}})})}(t.scale,t.config,t.svg,this.dataTarget),Oo(t.config,{clickHandler:Co(t,this,t.config,t.svg),hoverHandler:Do(t.config,t.svg)},this.dataTarget,t.legendSVG),t.axesLabelShapeGroup[this.config.yAxis]&&mo(function(e){Ye(t.config,{key:"".concat(n.dataTarget.key,"_").concat(e),label:Eo(n.dataTarget.label,e),color:Eo(n.dataTarget.color,e),shape:Eo(n.dataTarget.shape,e)},t.axesLabelShapeGroup[n.config.yAxis])}),this},e.unload=function(t){var n=this;return Ro(t.svg,this.dataTarget),si(t.svg.select(".".concat(Wt.regionGroup)),this.dataTarget),mo(function(e){var i="".concat(n.dataTarget.key,"_").concat(e);qe(t.legendSVG,{key:i}),je(t.axesLabelShapeGroup[n.config.yAxis],{key:i})}),this.dataTarget={},this.config={},this},e.resize=function(t){return Ft.notEmpty(this.dataTarget.regions)&&(1<t.content.length&&gi(t.svg),hi(t.scale,t.config,t.svg.select('g[aria-describedby="region_'.concat(this.dataTarget.key,'"]')))),ko(t.scale,t.config,t.svg),this},e.redraw=function(t){return Ro(t.svg,this.dataTarget),Ao(t.scale,t.config,t.svg,this.dataTarget),this},n}(zt),Uo=function(t,n){return n.height?n.height:St.PIE_CHART_DEFAULT_HEIGHT},Xo=function(t){return mt.a.select(t.parentNode).selectAll(".".concat(Wt.pieContentGroup))},Vo=function(t,n,e){t.select(".".concat(Wt.pieLegendItem,'[aria-describedby="').concat(e,'"]')).classed(Wt.pieLegendItemSliceHover,!0),n.each(function(){var t=mt.a.select(this);t.classed(Wt.blur,t.attr("aria-describedby")!==e)})},Bo=function(t,n){t.selectAll(".".concat(Wt.pieLegendItem)).classed(Wt.pieLegendItemSliceHover,!1),n.each(function(){mt.a.select(this).classed(Wt.blur,!1)})},Yo=function(t,n,e){var i=Xo(n);return Vo(t,i,e),function(t,n){t.each(function(){var t=mt.a.select(this);t.attr("aria-selected",t.attr("aria-describedby")===n)})}(i,e),mt.a.select(n)},jo=function(t,n,e,i){var a=Xo(n);if(i===St.HOVER_EVENT.MOUSE_ENTER)Vo(t,a,e);else{if("true"===mt.a.select(n).attr("aria-selected"))return;Bo(t,a)}},zo=function(t,n,e,i){Ft.isEmpty(n.onClick)||Yo(t,i,n.key).call(function(a){return n.onClick(function(){Bo(t,Xo(i)),function(t){t.each(function(){mt.a.select(this).attr("aria-selected",!1)})}(Xo(i))},n.key,e,n,a)})},Wo=function(t,n){return function(e,i){var a=n.selectAll(".".concat(Wt.pieContentGroup));i===St.HOVER_EVENT.MOUSE_ENTER?Vo(t,a,e.key):Bo(t,a)}},Ko=function(t,n){return t.selectAll(".".concat(Wt.pieContentSlice)).data(n(function(t){return t.selectAll(".".concat(Wt.pieContentGroup)).data()}(t)))},Jo=function(t,n,e,i){!function(t){var n=t.selectAll(".".concat(Wt.pieContentSlice));n.empty()||n.html(null)}(n),Ko(n,e).append("path").attr("fill",function(t){return t.data.color}).transition().call(St.d3Transition).attrTween("d",function(t){var n=mt.a.interpolate(t.startAngle,t.endAngle);return function(e){return t.endAngle=n(e),i(t)}})};var qo=function(t){function n(){var n;return(n=t.call(this)||this).config=null,n.input=null,n}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);var e=n.prototype;return e.getConfig=function(){return this.config},e.setInput=function(t){return this.input=t,this},e.validateInput=function(){if(Ft.isEmpty(this.input))throw new Error(d);if(Ft.isEmpty(this.input.bindTo))throw new Error(f);return this},e.clone=function(){return this.config=Ft.deepClone(this.input),this},n}(Tt);var Qo=function(t,n,e,i,a){var r=function(t,n,e,i,a){return n.append("g").classed(Wt.pieContentGroup,!0).attr("transform","translate(".concat(t.canvasRadius,",").concat(t.canvasRadius,")")).attr("aria-labelledby",i.label.display).attr("aria-describedby",i.key).attr("aria-disabled",!Ft.isFunction(a.onClick)).attr("aria-selected",!1).on("click",function(t,n){zo(e,t,n,this)}).on("mouseenter",function(t){jo(e,this,t.key,St.HOVER_EVENT.MOUSE_ENTER)}).on("mouseleave",function(t){jo(e,this,t.key,St.HOVER_EVENT.MOUSE_EXIT)})}(n.config,e,i,t.config,a);r.data([a]),function(t,n){n.append("g").classed(Wt.pieContentSlice,!0)}(n.config,r)},Zo=function(t){return function(t){if(Ft.isEmpty(t))throw new Error(p);if(Ft.isEmpty(t.key))throw new Error(x);if(Ft.isEmpty(t.label)||Ft.isEmpty(t.label.display))throw new Error(T);if(Ft.isEmpty(t.value))throw new Error(g)}(t),Ft.deepClone(t)},$o=function(t){function n(n){var e;return(e=t.call(this)||this).config=Zo(n),e.dataTarget=null,e}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);var e=n.prototype;return e.load=function(t){if(!Fr(t.contentConfig,this.config.key))throw new Error(x);return this.dataTarget=function(t,n){return Object.assign({},n,{onClick:n.onClick,color:n.color||St.DEFAULT_PIE_COLOR,shape:St.DEFAULT_PIE_LEGEND_SHAPE,label:n.label||{},key:n.key})}(t.config,this.config),Qo(this,t,t.svg.select(".".concat(Wt.pieChartContent)),t.legendSVG,this.dataTarget),function(t,n,e){e&&ti(e,t,{hoverHandler:Wo(e,n)})}(this.dataTarget,t.svg,t.legendSVG),this},e.unload=function(t){return function(t,n){Pe(t,'g[aria-describedby="'.concat(n.key,'"]'))}(t.svg,this.dataTarget),qe(t.legendSVG,this.dataTarget),this.dataTarget={},this.config={},this},e.resize=function(t){return Jo(t.config,t.svg.select(".".concat(Wt.pieChartContent)),t.d3PieLayoutTransformer,t.d3PieArcTransformer),this},e.redraw=function(){return this},n}(zt);var tc=function(t){return t.graphContainer=null,t.config={},t.svg=null,t.legendSVG=null,t.content=[],t.contentConfig=[],t.resizeHandler=null,t.d3PieLayoutTransformer=null,t.d3PieArcTransformer=null,t},nc=function(t){return t.graphContainer,(n=t.config).canvasWidth=n.width,function(t){t.canvasHeight=t.height}(t.config),function(t){t.canvasRadius=mt.a.min([t.height,t.width])/2}(t.config),t.d3PieLayoutTransformer=mt.a.layout.pie().value(function(t){return t.value}),t.d3PieArcTransformer=function(t){return mt.a.svg.arc().outerRadius(t)}(t.config.canvasRadius),t;var n},ec=function(t){function n(n){var e;return e=t.call(this)||this,tc(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)),e.generate(n),e}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);var e=n.prototype;return e.generate=function(t){this.config=function(t){return(new qo).setInput(t).validateInput().clone().getConfig()}(t),function(t,n){n.clipPathId=Vt(),n.bindTo=t.bindTo,n.bindLegendTo=t.bindLegendTo,n.dimension=Ut(t.dimension,{}),n.showLegend=Ut(t.showLegend,!0)}(t,this.config),function(t){t.graphContainer=mt.a.select(t.config.bindTo),t.config.height=Uo(t.config,t.config.dimension),t.config.width=Uo(t.config,t.config.dimension)}(this),nc(this);var n=mt.a.select(this.config.bindTo).append("div").classed(Wt.container,!0);return this.svg=n.insert("svg",":first-child").classed(Wt.pieChartCanvas,!0).attr("role","img").attr("height",this.config.canvasHeight).attr("width",this.config.canvasWidth),function(t,n){n.append("defs").append("clipPath").attr("id",t.clipPathId).append("rect").attr(St.X_AXIS,0).attr(St.Y_AXIS,0).attr("width",t.height).attr("height",t.height)}(this.config,this.svg),function(t,n){n.append("g").classed(Wt.pieChartContent,!0).attr("clip-path","url(#".concat(t.clipPathId,")"))}(this.config,this.svg),this.config.showLegend&&(this.legendSVG=Qe(this.config.bindLegendTo?mt.a.select(this.config.bindLegendTo):n)),Re(this),this.svg},e.resize=function(){return function(t){!function(t,n){n.select("clipPath#".concat(t.clipPathId)).selectAll("rect").attr("height",t.canvasHeight).attr("width",t.canvasWidth)}(t.config,t.svg)}(this),this},e.loadContent=function(t){var n=this;return ca(t,function(t){var e=new $o(t);e.load(n),n.content.push(t.key),n.contentConfig.push(e)}),this.contentConfig.forEach(function(t){return t.resize(n)}),this},e.unloadContent=function(t){var n=this,e=this.content.indexOf(t.key);if(0>e)throw new Error(S);return this.contentConfig[e].unload(this),this.content.splice(e,1),this.contentConfig.splice(e,1),this.contentConfig.forEach(function(t){return t.resize(n)}),this},e.destroy=function(){return Ne(this),Pe(this.graphContainer,".".concat(Wt.pieChartCanvas)),Pe(this.graphContainer,".".concat(Wt.container)),tc(this),this},n}(oa),ic=function(t,n){return function(e){return function(i){return"translate(".concat(function(n){return t.x(n.x)}(e),",").concat(sc(n),") scale(").concat(i,")")}}},ac=function(t,n,e,i,a){return e.select(".".concat(Wt.timelineContentGroup,'[aria-describedby="').concat(i,'"]')).selectAll(a).each(function(e){mt.a.select(this).selectAll("path").transition().call(St.d3Transition).attr("transform",function(){return ic(t,n)(e)(he(this))})})},rc=function(t){ve(t.config,t.svg),function(t,n){n.select("clipPath#".concat(t.clipPathId)).selectAll("rect").attr("height",zn(t)).attr("width",lc(t))}(t.config,t.svg),function(t,n,e,i){fc(t,n,e),i.select(".".concat(Wt.axisX)).transition().call(St.d3Transition).attr("transform","translate(".concat(cc(e),",").concat(sc(e),")")).call(t.x)}(t.axis,t.scale,t.config,t.svg),function(t,n){t.axis.x.label&&n.select(".".concat(Wt.axisLabelX)).transition().call(St.d3Transition).attr("transform","translate(".concat(uc(t),",").concat(dc(t),") rotate(").concat(Dn(St.X_AXIS),")"))}(t.config,t.svg)},oc=St.TIMELINE_HEIGHT,cc=function(t){return t.padding.left},sc=function(t){return 2*(t.padding.top+t.padding.bottom)},lc=function(t){return t.canvasWidth-t.padding.left-sc(t)},uc=function(t){return cc(t)+lc(t)/2},dc=function(t){return sc(t)+2*t.axisLabelHeights.x+4*t.padding.bottom},fc=function(t,n,e){return t.x=Sn(n.x,e.axis.x.ticks.values,lc(e),An(e.locale,e.axis.x.ticks.format,e.axis.x.type)).tickSize(St.DEFAULT_TIMELINE_TICK_LENGTH),t},hc=function(t,n){t.x=mt.a.time.scale().domain(n.axis.x.domain).range([0,lc(n)]).clamp(!0),n.axis.x.rangeRounding&&t.x.nice()},pc=function(t,n,e){Ft.isEmpty(t.onClick)||function(t){var n=mt.a.select(t.parentNode).select(".".concat(Wt.dataPointSelection));return n.attr("aria-hidden","true"!==n.attr("aria-hidden")),n}(e).call(function(e){return t.onClick(function(){e.attr("aria-hidden",!0)},t.key,n,t,e)})},gc=function(t,n,e){var i=t.path,a=t.value,r=t.index,o=n.objectScale,c=n.hiddenConfig,s=n.fillStyle,l=n.shapeStyle,u=n.pointStyle,d=e.scale,f=e.config,h=e.cls;i.append(function(){return new en(ha(l,o)).getShapeElement(Kt({svgClassNames:"".concat(u," ").concat(h),svgStyles:"fill: ".concat(s,";"),transformFn:ic(d,f)(a),onClickFn:function(){pc(a,r,this)},a11yAttributes:{"aria-describedby":a.key,"aria-hidden":c,"aria-disabled":!Ft.isFunction(a.onClick)}}))})},yc=function(t,n){return 0>t.indexOf(n.key)||null===n.y},xc=function(t,n,e,i){return function(a,r){Ze(a),function(t,n){var e=t.indexOf(n.key);-1<e?t.splice(e,1):t.push(n.key)}(e.shownTargets,r),i.selectAll(".".concat(Wt.point,'[aria-describedby="').concat(r.key,'"]')).attr("aria-hidden",!0),window.requestAnimationFrame(function(t,n){return function(){n.redraw(t)}}(t,n))}},Tc=function(t,n){return function(e,i){$e(t,n,e.key,i,[function(t,n,e,a,r){n.selectAll(".".concat(Wt.point,'[aria-describedby="').concat(r,'"]')).classed(Wt.blur,i===St.HOVER_EVENT.MOUSE_ENTER)}])}},Ec=function(t,n){return Pe(t,'g[aria-describedby="'.concat(n.key,'"]'))};var mc=function(t){function n(){var n;return(n=t.call(this)||this).config=null,n.input=null,n}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);var e=n.prototype;return e.getConfig=function(){return this.config},e.setInput=function(t){return this.input=t,this},e.validateInput=function(){if(Ft.isEmpty(this.input))throw new Error(h);if(Ft.isEmpty(this.input.bindTo))throw new Error(f);if(Ft.isEmpty(this.input.axis)||Ft.isEmpty(this.input.axis.x))throw new Error(m);if(Ft.isEmpty(this.input.axis.x.lowerLimit)||Ft.isEmpty(this.input.axis.x.upperLimit))throw new Error(v);if(!Ft.isDate(this.input.axis.x.lowerLimit)||!Ft.isDate(this.input.axis.x.upperLimit))throw new Error(_);return this},e.clone=function(){return this.config=Ft.deepClone(this.input),this},n}(Tt);var vc=function(t){if(!Ft.isDate(t))throw new Error(I);return Ft.parseDateTime(t)},bc=function(t,n,e,i,a){var r=function(t,n,e){return n.append("g").classed(Wt.timelineContentGroup,!0).attr("transform","translate(".concat(cc(t),",0)")).attr("aria-labelledby",e.label.display).attr("aria-describedby",e.key)}(e,i,t.config).selectAll(".".concat(Wt.point)).data(a.internalValuesSubset);(function(t,n,e){var i=function(e,i,a){var r=St.DEFAULT_TIMELINE_SCALE,o=yc(n.shownTargets,i),c=Oe(i),s=De(i);gc({path:e,value:i,index:a},{objectScale:r,hiddenConfig:o,fillStyle:c,shapeStyle:s,pointStyle:Wt.point},{scale:t,config:n,cls:void 0})},a=function(e,i,a){var r=St.DEFAULT_TIMELINE_PLOT_SELECTION_SCALE;gc({path:e,value:i,index:a},{objectScale:r,hiddenConfig:!0,fillStyle:void 0,shapeStyle:bt.CIRCLE,pointStyle:void 0},{scale:t,config:n,cls:Wt.dataPointSelection})},r=function(n,e,i,a,r){var o=St.DEFAULT_TIMELINE_SCALE,c=yc(r.shownTargets,e),s=De(e);gc({path:n,value:e,index:i},{objectScale:o,hiddenConfig:c,fillStyle:void 0,shapeStyle:s,pointStyle:Wt.point},{scale:t,config:r,cls:a})};e.append("g").classed(Wt.pointGroup,!0).each(function(t,e){var o=mt.a.select(this);a(o,t,e),t.isCritical&&(r(o,t,e,Wt.criticalityTimelineOuterPoint,n),r(o,t,e,Wt.criticalityTimelineInnerPoint,n)),i(o,t,e)})})(n,e,r.enter()),r.exit().transition().call(St.d3Transition).remove()},Ac=function(t){return function(t){if(Ft.isEmpty(t))throw new Error(p);if(Ft.isEmpty(t.key))throw new Error(x);if(Ft.isEmpty(t.label)||Ft.isEmpty(t.label.display))throw new Error(T);if(Ft.isEmpty(t.values))throw new Error(g)}(t),Ft.deepClone(t)},_c=function(t){function n(n){var e;return(e=t.call(this)||this).config=Ac(n),e.dataTarget=null,e}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);var e=n.prototype;return e.load=function(t){if(!Fr(t.contentConfig,this.config.key))throw new Error(x);return this.dataTarget=function(t,n){return t.shownTargets.push(n.key),n.internalValuesSubset=n.values.map(function(t){return{onClick:n.onClick,isCritical:t.isCritical||!1,x:vc(t.x),content:t.content,color:n.color||St.DEFAULT_COLOR,label:n.label||{},shape:n.shape||bt.CIRCLE,key:n.key}}),n}(t.config,this.config),bc(this,t.scale,t.config,t.svg.select(".".concat(Wt.timelineGraphContent)),this.dataTarget),function(t,n,e,i){e.label&&e.label.display&&i&&Je(i,e,t.shownTargets,n)}(t.config,{clickHandler:xc(t,this,t.config,t.svg),hoverHandler:Tc(t.config.shownTargets,t.svg)},this.dataTarget,t.legendSVG),this},e.unload=function(t){return Ec(t.svg,this.dataTarget),qe(t.legendSVG,this.dataTarget),this.dataTarget={},this.config={},this},e.resize=function(t){return ac(t.scale,t.config,t.svg,this.config.key,".".concat(Wt.point)),ac(t.scale,t.config,t.svg,this.config.key,".".concat(Wt.dataPointSelection)),this},e.redraw=function(t){return Ec(t.svg,this.dataTarget),bc(this,t.scale,t.config,t.svg.select(".".concat(Wt.timelineGraphContent)),this.dataTarget),this},n}(zt);var Ic=St.BASE_CANVAS_WIDTH_PADDING,Sc=function(t,n){n.canvasWidth=parseInt(t.style("width"),10)},wc=function(t){return t.graphContainer=mt.a.select(t.config.bindTo),t.config.height=function(t){return oc+t.padding.top-t.padding.bottom}(t.config),t},kc=function(t){return t.graphContainer=null,t.config={axis:{x:{}},shownTargets:{}},t.axis={},t.scale={},t.svg=null,t.legendSVG=null,t.content=[],t.contentConfig=[],t.resizeHandler=null,t},Lc=function(t){return Sc(t.graphContainer,t.config),function(t){t.axisSizes={},t.axisSizes.x=Wn(t)}(t.config),function(t){t.axisLabelHeights={},t.axisLabelHeights.x=0,t.showLabel&&t.axis.x.label&&(t.axisLabelHeights.x=Qn(t.axis.x.label))}(t.config),function(t){t.canvasHeight=zn(t)+2*(2*t.padding.bottom+t.padding.top)}(t.config),hc(t.scale,t.config),t},Cc=function(t){function n(n){var e;return e=t.call(this)||this,kc(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)),e.generate(n),e}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);var e=n.prototype;return e.generate=function(t){this.config=function(t){return(new mc).setInput(t).validateInput().clone().getConfig()}(t),function(t,n){var e=Ft.deepClone(t.axis);n.clipPathId=Vt(),n.bindTo=t.bindTo,n.bindLegendTo=t.bindLegendTo,n.padding=Ut(t.padding,St.PADDING),n.padding.hasCustomPadding=Ft.isDefined(t.padding),n.axis={x:{}},n.locale=mt.a.locale(Ut(t.locale,rn)),n.throttle=Ut(t.throttle,St.RESIZE_THROTTLE),n.showLabel=Ut(t.showLabel,!0),n.showLegend=Ut(t.showLegend,!0),n.axis.x=Object.assign(e.x,{type:At.TIME_SERIES,show:!0,ticks:Ut(e.x.ticks,{}),domain:Yt(At.TIME_SERIES,e.x.lowerLimit,e.x.upperLimit),rangeRounding:Ut(e.x.rangeRounding,!0)}),n.shownTargets=[]}(t,this.config),wc(this),Lc(this);var n=mt.a.select(this.config.bindTo).append("div").classed(Wt.container,!0);return this.svg=n.insert("svg",":first-child").classed(Wt.canvas,!0).attr("role","img").attr("height",this.config.canvasHeight).attr("width",this.config.padding.hasCustomPadding?this.config.canvasWidth:this.config.canvasWidth-Ic),function(t,n){n.append("defs").append("clipPath").attr("id",t.clipPathId).append("rect").attr(St.X_AXIS,cc(t)).attr(St.Y_AXIS,sc(t)/2).attr("width",lc(t)).attr("height",zn(t))}(this.config,this.svg),function(t,n,e,i){fc(t,n,e),i.append("g").classed(Wt.axis,!0).classed(Wt.axisX,!0).attr("aria-hidden",!1).attr("transform","translate(".concat(cc(e),", ").concat(sc(e),")")).call(t.x)}(this.axis,this.scale,this.config,this.svg),function(t,n){n.append("g").classed(Wt.timelineGraphContent,!0).attr("clip-path","url(#".concat(t.clipPathId,")"))}(this.config,this.svg),function(t,n){if(t.showLabel&&t.axis.x.label){var e=n.append("g").classed(Wt.axisLabelX,!0).attr("transform","translate(".concat(uc(t),",").concat(dc(t),") rotate(").concat(Dn(St.X_AXIS),")"));re(e,Ft.sanitize(t.axis.x.label))}}(this.config,this.svg),this.config.showLegend&&(this.legendSVG=Qe(this.config.bindLegendTo?mt.a.select(this.config.bindLegendTo):n)),Re(this),this.svg},e.resize=function(){var t=this;return Sc(this.graphContainer,this.config),hc(this.scale,this.config),rc(this),this.contentConfig.forEach(function(n){return n.resize(t)}),this},e.loadContent=function(t){var n=new _c(t);return n.load(this),this.content.push(t.key),this.contentConfig.push(n),this.resize(),this},e.unloadContent=function(t){var n=this.content.indexOf(t.key);if(0>n)throw new Error(S);return this.contentConfig[n].unload(this),this.content.splice(n,1),this.contentConfig.splice(n,1),this.resize(),this},e.destroy=function(){return Ne(this),Pe(this.graphContainer,".".concat(Wt.canvas)),Pe(this.graphContainer,".".concat(Wt.container)),kc(this),this},n}(oa);function Dc(){return(Dc=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,n,e){var i=[null];i.push.apply(i,n);var a=new(Function.bind.apply(t,i));return e&&Oc(a,e.prototype),a}).apply(null,arguments)}function Oc(t,n){return(Oc=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var Rc={api:{gantt:function(t){return new Pr(t)},graph:function(t){return new Yr(t)},line:function(t){return new uo(t)},pairedResult:function(t){return new Mo(t)},timeline:function(t){return new Cc(t)},pie:function(t){return new ec(t)},bar:function(t){return new ra(t)}},tools:{shape:function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];return Dc(en,n)},defaultSVGProps:function(t){return en.getDefaultSVGProps(t)}},helpers:{AXIS_TYPE:At,COLORS:vt,LINE_TYPE:_t,LOCALE:on,SHAPES:bt,AXES_ORIENTATION:It},version:"1.4.2"};n.default=Rc}]).default});